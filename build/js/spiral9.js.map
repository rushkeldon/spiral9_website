{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/app.js","spiral9.js","src/directives/aboutPanel/aboutPanel.js","src/directives/arcIndicator/arcIndicator.js","src/directives/badgeLink/badgeLink.js","src/directives/contactPanel/contactPanel.js","src/directives/lightbox/lightbox.js","src/directives/navBar/navBar.js","src/directives/portfolioPanel/portfolioPanel.js","src/directives/responsiDiv/responsiDiv.js","src/directives/responsiveImage/responsiveImage.js","src/directives/skillTile/skillTile.js","src/directives/skillsPanel/skillsPanel.js","src/directives/slidePanel/slidePanel.js","src/directives/stopEvents/stopEvents.js","src/directives/timeline/timeline.js","src/directives/titlePanel/titlePanel.js","src/directives/workExperiencePanel/workExperiencePanel.js","src/filters/makeSafeHTML/makeSafeHTML.js","src/services/DataService/DataService.js","src/services/ResponsiveService/ResponsiveService.js","src/services/SignalTowerService/SignalTowerService.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","angular","config","controller","$scope","DataService","run",2,"directive","CN","restrict","replace","templateUrl","scope","link","element","attrs","aboutInfo","isMoreInfoDisplayed","moreInfoElement","buttonClicked","url","btnURL","window","open","toggleMoreInfo","querySelector","TweenMax","to","height","set","from","getData","getAboutInfo","then","error","console","$evalAsync",3,"$document","$timeout","$window","transclude","$element","$attrs","convertToRads","angle","Math","PI","findDegress","percentage","getArcValues","index","radius","spacing","innerRadius","outerRadius","canvasWidth","expected","actual","parseInt","getComputedStyle","getPropertyValue","canvasHeight","circle","find","baseVal","value","paused","hasOwnProperty","buildArc","d3","svg","arc","d","startAngle","endAngle","findPathColor","actualPercent","getArcInfo","end","arcValues","tweenArc","b","interpolate","key","play","tweenInnerArc","tweenOuterArc","actual_formatted","toFixed","requires","ctrl","attr","innerArc","select","arcObject","datum","transition","delay","duration","attrTween","outerArc","addClass","ease",4,"retryCount","retryLimit","retryDelay","fgColor","badgeLinkInfo","badgeClicked","getColors","tweenColors","badgeHoveredOver","target","bgColor","color","tween","backgroundColor","clr","restoreColors","badgeHoveredOut","setTimeout","getSkillInfo",5,"contactInfo","getDataByName",6,"SignalTowerService","getImageIndex","refIndex","direction","imageInfos","setImageInfo","shouldDisplay","transitionFrom","originalImageIndex","imageIndex","darkRoom","darkRooms","imageInfo","src","image","imageLoaded","captionPane","innerHTML","captionHTML","addEventListener","pendingInfo","defaultImageInfo","reset","isInTransition","readyToDisplay","tweenCount","mouseDirection","nextImage","dismissCaptionPane","prevImage","layoutThenIntro","naturalWidth","naturalHeight","ratio","paddingBottom","width","document","innerWidth","lightBox","style","lightFrame","appendChild","intro","removeEventListener","transitionCompleted","darkRoomToOutro","parentNode","removeChild","resetDarkRoom","reverse","touchRect","getBoundingClientRect","marginRight","marginLeft","autoAlpha","darkRoomToIntro","introInfo","Power2","easeOut","onComplete","introTween","outroInfo","outroTween","displayCaptionPane","isImmediate","mouseMoved","touchX","clientX","touchY","clientY","top","bottom","btnPrev","blur","btnNext","prevWidth","left","focus","mouseLeft","touchPaneClicked","pageClicked","right","dismiss","removeDarkRoomByIndex","addPNGsrcFromNode","nodeToRasterize","srcRecipient","domtoimage","toPng","dataUrl","newImageInfosReceived","newImageInfos","body","className","rasterizeSignposts","addEventListeners","addImageData","signpostElement","titleElement","createElement","title","blurbElement","blurbHTML","forEach","split","join","removeEventListeners","touchPane","isUponDestruction","cleanup","getReferences","lightFrames","querySelectorAll","offstage","push","init","bodyNode","errorMsg","elementNode","signalLightboxImages","subscribeToSignal","$on",7,"ResponsiveService","navInfo","currentSelector","shouldMenuDisplay","handlersHandled","toggleNavMenu","navItemClicked","selector","tag","scrollToCurrentSelector","targetElement","currentVerticalScroll","pageYOffset","documentElement","scrollTop","echo","targetY","kill","scrollTo","y","breakPointChanged","newBreakPointTag","documentClicked","doesClickPertain","contains","documentScrolled","layout","getNavInfo","navItems","getSlidePanelHeight","slidePanel","slidePanelHeight","getNavBarHeight","navBarHeight","css","position","innerHeight","bind",8,"portfolioInfo","currentFilterTag","icon","outro","projectsToOutro","projectObject","projectIndex","force3D","Power3","scaleX","scaleY","project","visible","pointerEvents","projectsToIntro","filterByTag","filterTag","projectTileElements","projects","tags","indexOf","projectClicked","viewProjectImages","dispatchSignal","filterTags",9,"elementData","getClassName","divClassName","slideIndex","elementIndex","padding","paddingRule","convertPaddingToPercents","parentMaxWidth","aspectRatio","colorRule","initialized","$parent","registerElement","alignRule","getAlignRule","align",10,"getSrc","urls","getAlignment","getWidth","shouldConvert","convert","convertWidthToPercent","getPadding","imageClassName","setDynamicProperties","setStaticProperties","altText","imgWidth","imgClassName","imgSrc","text-align","normalizeURLs","unSubscribeFromSignal",11,"skillInfo","unbind","isolateScope",12,"skillsInfo","getSkillsInfo",13,"swapSlides","nextSlide","prevSlide","zIndex","retryMS","shouldPlay","slideShowInfo","getSlides","oldIndex","imgURLs","displayNextSlide","checkShouldPlay","clearTimeout","timeoutID","slides","getSlideShowInfo","createSignal",14,"relayTouchEvent","log","$event","$eval","ngClick","stopPropagation","type","eventNames","eventName","off","stopEvents","on",15,"timelineInfo","toggleDetailLevel","eventIndex","event","events","lessDetailElement","moreDetailElement","isMoreDetails","animateElementIn","elem","removeClass","animateElementOut",16,"titleInfo","subTitleIndex","subTitleStage","transitionTime","displayNextSubTitle","subTitles","subTitle","delayThenDisplay","getTitleInfo",17,"workInfo","getWorkInfo",18,"filter","$sce","trustAsHtml",19,"service","$http","$q","_dataService","isDataPending","siteData","deferred","defer","pendingProps","propName","resolveProp","promise","deferProp","get","response","data","processPendingProps","resolve","reject","success","pendingProp","skillInfos","null","name","longName","blurb","as3","air","aws","bootstrap","css3","facebook","git","gulp","html5","html","jasmine","jenkins","jquery","js","less","linux","mac","photoshop","responsive","rest","scrum","symbian","winjs","windows","wordpress","wix","dataService","getContactInfo","propertyName","getSiteData",20,"$rootScope","BreakPoint","tagName","minWidth","maxWidth","min","max","noop","TAGS","small","medium","large","defaults","breakPoints","Infinity","_responsiveService","isTouchDevice","copy","resize","id","ms","windowResized","isInit","broadcastMethod","freshTag","responsiveService","sizeTag","bp","w","desktopWidth","desktopContainerWidth","pixelPadding","aspectRatioArray","zeroPixels","p","paddingArray","paddingVertical","paddingHorizontal","undefined","rawURLs","URLs",21,"SignalBinding","signal","listener","isOnce","listenerContext","priority","this","_listener","_isOnce","context","_signal","_priority","validateListener","fnName","Signal","_bindings","_prevParams","self","dispatch","prototype","apply","arguments","signalTowerService","signals","signalName","newSignal","destroySignal","signalToDestroy","dispose","payload","signalToDispatch","signalSubscribedTo","add","remove","subscribeToSignalOnce","addOnce","signalToUnsubscribeFrom","active","params","execute","paramsArr","handlerReturn","concat","detach","isBound","getListener","getSignal","_destroy","toString","VERSION","memorize","_shouldPropagate","_registerListener","binding","prevIndex","_indexOfListener","_addBinding","splice","cur","has","removeAll","getNumListeners","halt","bindings","Array","slice","forget"],"mappings":"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","file":"spiral9.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n * app.js\n *\n * Created: Friday, November 8, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name spiral9\n * @description This is the root module for the spiral9 application.\n */\n\nangular.module( 'spiral9', [\n    'ngTouch',\n    'spiral9.directives.aboutPanel',\n    'spiral9.directives.arcIndicator',\n    'spiral9.directives.contactPanel',\n    'spiral9.directives.navBar',\n    'spiral9.directives.portfolioPanel',\n    'spiral9.directives.skillsPanel',\n    'spiral9.directives.slidePanel',\n    'spiral9.directives.timeline',\n    'spiral9.directives.titlePanel',\n    'spiral9.directives.workExperiencePanel',\n    'spiral9.filters.makeSafeHTML',\n    'spiral9.services.DataService',\n    'spiral9.services.ResponsiveService',\n    'spiral9.services.SignalTowerService',\n    'templates-components'\n] )\n    .config( function spiral9config() {\n        var CN = \"spiral9config\";\n        // console.log( CN );\n    } )\n\n    .controller( 'spiral9controller', function spiral9controller( $scope, DataService ) {\n        var CN = \"spiral9controller\";\n        // console.log( CN );\n        $scope.DataService = DataService;\n    } )\n\n    .run( function(){ } );\n",null,"/*\n * aboutPanel.js\n *\n * The MIT License (MIT)\n *\n */\n\n/**\n * @ngdoc overview\n * @name directives.aboutPanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.aboutPanel', [\n    'ngTouch',\n    'spiral9.filters.makeSafeHTML',\n    'spiral9.services.DataService'\n] )\n\n/**\n * @ngdoc directive\n * @name aboutPanel\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'aboutPanel', function aboutPanelDirective( DataService ) {\n        var CN = 'aboutPanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'aboutPanel/aboutPanel.tpl.html',\n            scope : {},\n            link : function aboutPanelDirectiveLink( scope, element, attrs ) {\n                // console.log( CN + \" instantiated.\" );\n\n                scope.aboutInfo = null;\n                scope.isMoreInfoDisplayed = false;\n                scope.moreInfoElement = null;\n\n                scope.buttonClicked = function buttonClicked( e ){\n                    var url = scope.aboutInfo.btnURL;\n                    if( url ) {\n                        window.open( url, \"_self\" );\n                    }\n                };\n\n                scope.toggleMoreInfo = function toggleMoreInfo(){\n                    if( !scope.moreInfoElement ){\n                        scope.moreInfoElement = element[ 0 ].querySelector( '.more-info' );\n                    }\n                    if( !scope.isMoreInfoDisplayed ){\n                        TweenMax.set( scope.moreInfoElement, {\n                            height : 'auto'\n                        } );\n                        TweenMax.from( scope.moreInfoElement, 0.2, {\n                            height : 0\n                        } );\n                        scope.isMoreInfoDisplayed = true;\n                    } else {\n                        TweenMax.to( scope.moreInfoElement, 0.2, {\n                            height : 0\n                        } );\n                        scope.isMoreInfoDisplayed = false;\n                    }\n                };\n\n                scope.getData = function getData(){\n                    // console.log( CN + \".getData\" );\n                    DataService.getAboutInfo()\n                        .then(\n                            function dataReceived( aboutInfo ) {\n                                scope.aboutInfo = aboutInfo;\n                            },\n                            function dataFailed( error ){\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                        );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","/*\n * arcIndicator.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.arcIndicator\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.arcIndicator', [\n    // 'spiral9.services.DataService',\n] )\n\n/**\n * @ngdoc directive\n * @name arcIndicator\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'arcIndicator', function arcIndicatorDirective( $document, $timeout, $window ) {\n        var CN = \"indicatorDirective\";\n        return {\n            restrict : 'E',\n            replace : true,\n            transclude : true,\n            controller : function arcIndicatorController( $scope, $element, $attrs ) {\n                var diff = ( $scope.expected - $scope.actual ) / $scope.expected;\n                var canvasWidth = parseInt(window.getComputedStyle( $element[ 0 ], null ).getPropertyValue( 'width' ), 10 );\n                var canvasHeight = parseInt(window.getComputedStyle( $element[ 0 ], null ).getPropertyValue( 'height' ), 10 );\n                var circle = $element.find( 'circle' )[ 0 ];\n                var radius = circle.r.baseVal.value;\n\n                $scope.radius = radius;\n                $scope.canvasWidth = canvasWidth;\n                $scope.canvasHeight = canvasHeight;\n                $scope.spacing = 0.9;\n                $scope.paused = $attrs.hasOwnProperty( 'paused' );\n\n                function convertToRads( angle ) {\n                    return angle * (Math.PI / 180);\n                }\n\n                function findDegress( percentage ) {\n                    return 360 * percentage;\n                }\n\n                function getArcValues( index, radius, spacing ) {\n                    return {\n                        innerRadius : (index + spacing) * radius,\n                        outerRadius : (index + spacing) * radius\n                    };\n                }\n\n                $scope.buildArc = function() {\n                    return d3\n                        .svg\n                        .arc()\n                        .innerRadius( function( d ) {\n                            return d.innerRadius;\n                        } )\n                        .outerRadius( function( d ) {\n                            return d.outerRadius;\n                        } )\n                        .startAngle( 0 )\n                        .endAngle( function( d ) {\n                            return d.endAngle;\n                        } );\n                };\n\n                $scope.findPathColor = function() {\n                    var actualPercent = $scope.actual * 100;\n\n                    if( actualPercent >= 100 ){\n                        return 'percent100';\n                    }\n\n                    for( var i=90; i > 0; i -= 10 ){\n                        if( actualPercent > i ){\n                            return 'percent' + i;\n                        }\n                    }\n\n                    return 'percent10';\n                };\n\n                $scope.getArcInfo = function( index, value, radius, spacing ) {\n                    var end = findDegress( value ),\n                        arcValues = getArcValues( index, radius, spacing );\n\n\n                    return {\n                        innerRadius : arcValues.innerRadius,\n                        outerRadius : arcValues.outerRadius,\n                        endAngle : convertToRads( end ),\n                        startAngle : 0\n                    };\n                };\n\n                $scope.tweenArc = function tweenArc( b, arc ) {\n                    return function( a ) {\n                        var i = d3.interpolate( a, b );\n                        for( var key in b ) {\n                            a[ key ] = b[ key ];\n                        }\n                        return function( t ) {\n                            return arc( i( t ) );\n                        };\n                    };\n                };\n\n                $scope.play = function play(){\n                    $scope.tweenInnerArc();\n                    $scope.tweenOuterArc();\n                    $scope.play = function(){};\n                };\n\n            },\n            templateUrl : 'arcIndicator/arcIndicator.tpl.html',\n            link : function( scope, element, attrs ) {\n                scope.actual_formatted = ( scope.actual * 100 ).toFixed( 0 );\n            },\n            scope : {\n                actual : '@',\n                expected : '@'\n            }\n        };\n    } )\n\n    .directive( 'pathGroup', function pathGroupDirective() {\n        var CN = \"pathGroupDirective\";\n        return {\n            requires : '^arcIndicator',\n            link : function( scope, element, attrs, ctrl ) {\n                element\n                    .attr(\n                    \"transform\",\n                    \"translate(\" + scope.canvasWidth / 2 + \",\" + scope.canvasHeight / 2 + \")\"\n                );\n            }\n        };\n    } )\n\n    .directive( 'innerPath', function innerPathDirective() {\n        var CN = \"innerPathDirective\";\n        return {\n            restrict : 'A',\n            transclude : true,\n            requires : '^pathGroup',\n            link : function( scope, element, attrs, ctrl ) {\n                scope.innerArc = d3.select( element[ 0 ] );\n                var arcObject = scope.buildArc();\n                var arc = scope.getArcInfo( 1.1, scope.expected, scope.radius, 0.05 );\n                var end = arc.endAngle;\n\n                arc.endAngle = 0;\n\n                scope.tweenInnerArc = function tweenInnerArc(){\n                    if( !scope.innerArc ){ return; }\n                    scope.innerArc\n                        .datum( arc )\n                        .attr( 'd', arcObject )\n                        .transition()\n                        .delay( 100 )\n                        .duration( 2000 )\n                        .attrTween( \"d\", scope.tweenArc( {\n                            endAngle : end\n                        }, arcObject ) );\n                };\n            }\n        };\n    } )\n\n    .directive( 'outerPath', function outerPathDirective() {\n        var CN = \"outerPathDirective\";\n        return {\n            restrict : 'A',\n            transclude : true,\n            requires : '^pathGroup',\n            link : function( scope, element, attrs ) {\n                scope.outerArc = d3.select( element[ 0 ] );\n                var arcObject = scope.buildArc();\n                var arc = scope.getArcInfo( 1.2, scope.actual, scope.radius, 0.1 );\n                var end = arc.endAngle;\n\n                arc.endAngle = 0;\n                element.addClass( scope.findPathColor() );\n\n                scope.tweenOuterArc = function tweenOuterArc() {\n                    if( !scope.outerArc ){ return; }\n                    scope.outerArc\n                        .datum( arc )\n                        .attr( 'd', arcObject )\n                        .transition()\n                        .delay( 200 )\n                        .duration( 1500 )\n                        .ease( 'bounce' )\n                        .attrTween( 'd', scope.tweenArc( { endAngle : end }, arcObject ) );\n                };\n\n                if( !scope.paused ){\n                    scope.tweenOuterArc();\n                }\n            }\n        };\n    } );\n","/*\n * badgeLink.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.badgeLink\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.badgeLink', [\n    'spiral9.services.DataService'\n] )\n\n/**\n * @ngdoc directive\n * @name badgeLink\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'badgeLink', function badgeLinkDirective( DataService ) {\n        var CN = 'badgeLinkDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'badgeLink/badgeLink.tpl.html',\n            scope : {\n                key : \"@\"\n            },\n            link : function badgeLinkDirectiveLink( scope, element, attrs ) {\n                // console.log( CN + \" instantiated.\" );\n\n                var retryCount = 0;\n                var retryLimit = 10;\n                var retryDelay = 300;\n\n                scope.fgColor = \"#FFFFFF\";\n\n                scope.badgeLinkInfo = null;\n\n                scope.badgeClicked = function badgeClicked( e ){\n                    scope.getColors();\n                    scope.tweenColors();\n                    if( scope.badgeLinkInfo.url ) {\n                        window.open( scope.badgeLinkInfo.url, \"_blank\" );\n                    }\n                };\n\n                scope.badgeHoveredOver = function badgeHoveredOver( e ){\n                    scope.getColors();\n                    if( e.target === element[ 0 ] ){\n                        scope.tweenColors();\n                    }\n                };\n\n                scope.getColors = function getColors(){\n                    if( !scope.bgColor ){\n                        scope.bgColor = window.getComputedStyle( element[ 0 ], null ).getPropertyValue( 'background-color' );\n                        scope.color = window.getComputedStyle( element[ 0 ], null ).getPropertyValue( 'color' );\n                    }\n                };\n\n                scope.tweenColors = function tweenColors(){\n                    scope.tween = TweenMax.to( element[ 0 ], 0.3, {\n                        backgroundColor : scope.badgeLinkInfo.clr,\n                        color : scope.fgColor\n                    } );\n                };\n\n                scope.restoreColors = function restoreColors(){\n                    TweenMax.to( element[ 0 ], 0.3, {\n                        backgroundColor : scope.bgColor,\n                        color : scope.color\n                    } );\n                };\n\n                scope.badgeHoveredOut = function badgeHoveredOut( e ){\n                    if( e.target === element[ 0 ] ){\n                        scope.restoreColors();\n                    }\n                };\n\n                scope.getData = function getData(){\n                    // console.log( CN + \".getData\" );\n\n                    if( !scope.key ){\n                        if( retryCount < retryLimit ) {\n                            retryCount++;\n                            window.setTimeout( scope.getData, retryDelay );\n                            return;\n                        } else {\n                            console.error( CN + \" timed out looking for scope.key and is now assigning 'null' to scope.key.  Try giving a 'data-key' attribute to the <badge-link> element.\" );\n                            scope.key = \"null\";\n                        }\n                    }\n\n                    scope.badgeLinkInfo = DataService.getSkillInfo( scope.key );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","/*\n * contactPanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.contactPanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.contactPanel', [\n    'ngTouch',\n    'spiral9.filters.makeSafeHTML',\n    'spiral9.services.DataService',\n    'spiral9.directives.skillTile'\n] )\n\n/**\n * @ngdoc directive\n * @name contactPanel\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'contactPanel', function contactPanelDirective( $document, $window, DataService ) {\n        var CN = 'contactPanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'contactPanel/contactPanel.tpl.html',\n            scope : {},\n            link : function contactPanelDirectiveLink( scope, element, attrs ) {\n\n                scope.contactInfo = null;\n\n                scope.getData = function getData(){\n                    DataService.getDataByName( 'contactInfo' )\n                        .then(\n                            function dataReceived( contactInfo ) {\n                                scope.contactInfo = contactInfo;\n                            },\n                            function dataFailed( error ) {\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                        );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","/*\n * portfolioPanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.portfolioPanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.lightbox', [\n        'ngTouch',\n        'spiral9.filters.makeSafeHTML',\n        'spiral9.services.SignalTowerService'\n    ] )\n\n    /**\n     * @ngdoc directive\n     * @name portfolioPanel\n     * @restrict E\n     * @element ANY\n     * @description An empty directive description. Please fill in a high level description of this directive.\n     */\n    .directive( 'lightbox', function lightbox( $window, SignalTowerService ) {\n        var CN = \"lightbox\";\n        return {\n            restrict : \"E\",\n            replace : true,\n            scope : {},\n            templateUrl : 'lightbox/lightbox.tpl.html',\n            link : function lightboxLink( scope, element, attrs ) {\n\n                scope.defaultImageInfo = {\n                    \"url\" : \"\",\n                    \"captionHTML\" : \"\"\n                };\n\n                scope.reset = function reset() {\n                    // console.log( CN + \".reset\" );\n\n                    scope.imageIndex = -1;\n                    scope.isInTransition = false;\n                    scope.transitionFrom = \"right\";\n                    scope.readyToDisplay = false;\n                    scope.tweenCount = 0;\n                    scope.mouseDirection = 'next';\n                };\n\n                scope.reset();\n\n                function getImageIndex( refIndex, direction ) {\n                    var index = 0;\n                    switch( direction ) {\n                        case 'right':\n                            index = refIndex + 1 >= scope.imageInfos.length ? 0 : refIndex + 1;\n                            break;\n                        case 'left':\n                            index = refIndex - 1 < 0 ? scope.imageInfos.length - 1 : refIndex - 1;\n                            break;\n                    }\n                    return index;\n                }\n\n                function setImageInfo( direction, shouldDisplay ) {\n                    // console.log( CN + \".setImageInfo\" );\n                    // console.log( \"\\tdirection :\", direction );\n                    // console.log( \"\\tshouldDisplay :\", shouldDisplay );\n\n                    scope.transitionFrom = direction;\n                    var originalImageIndex = scope.imageIndex;\n                    scope.imageIndex = getImageIndex( scope.imageIndex, direction );\n\n                    var darkRoom = scope.darkRooms[ 1 ];\n                    var imageInfo = scope.imageInfos[ scope.imageIndex ];\n\n                    if( imageInfo && imageInfo === darkRoom.imageInfo /*&& darkRoom.image.naturalWidth*/ ) {\n                        if( imageInfo.src ){\n                            darkRoom.image.src = imageInfo.src;\n                        }\n                        if( shouldDisplay ) {\n                            scope.imageLoaded( { target : darkRoom.image }, true );\n                        }\n                    } else {\n                        darkRoom.imageInfo = imageInfo;\n                        darkRoom.captionPane.innerHTML = imageInfo.captionHTML;\n                        if( shouldDisplay ) {\n                            darkRoom.image.addEventListener( 'load', scope.imageLoaded, false );\n                        }\n\n                        if( imageInfo.src || imageInfo.url ){\n                            darkRoom.image.src = imageInfo.src ? imageInfo.src : imageInfo.url;\n                        } else {\n                            imageInfo.pendingInfo = {\n                                direction : direction,\n                                imageIndex : originalImageIndex,\n                                shouldDisplay : shouldDisplay\n                            };\n                            // console.log( \"setImageInfo does not have any data for the src.\" );\n                        }\n\n                    }\n                }\n\n                scope.nextImage = function nextImage() {\n                    // console.log( CN + \".nextImage\" );\n\n                    if( scope.isInTransition ) { return; }\n                    scope.isInTransition = true;\n                    scope.dismissCaptionPane( true );\n                    setImageInfo( 'right', true );\n                };\n\n                scope.prevImage = function prevImage() {\n                    // console.log( CN + \".prevImage\" );\n\n                    if( scope.isInTransition ) { return; }\n                    scope.isInTransition = true;\n                    scope.dismissCaptionPane( true );\n                    setImageInfo( 'left', true );\n                };\n\n                scope.layoutThenIntro = function layoutThenIntro( image ) {\n                    // console.log( CN + \".layoutThenIntro\" );\n\n                    var naturalWidth = image.naturalWidth;\n                    var naturalHeight = image.naturalHeight;\n                    var ratio = (naturalHeight / naturalWidth) * 100;\n                    var paddingBottom = ratio + \"%\";\n                    var width = naturalWidth > window.document.innerWidth ? window.document.innerWidth : naturalWidth;\n\n                    var darkRoom = scope.darkRooms[ 1 ];\n\n                    darkRoom.lightBox.style.width = width + \"px\";\n                    darkRoom.lightFrame.style.width = width + \"px\";\n                    darkRoom.lightBox.style.paddingBottom = paddingBottom;\n\n                    /*\n                    if( !scope.readyToDisplay ) {\n                        scope.readyToDisplay = true;\n                    }\n                    */\n\n                    element[ 0 ].appendChild( darkRoom.lightFrame );\n\n                    scope.$evalAsync( scope.intro );\n                };\n\n                scope.imageLoaded = function imageLoaded( e ) {\n                    // console.log( CN + \".imageLoaded\" );\n\n                    e.target.removeEventListener( 'load', imageLoaded );\n                    scope.layoutThenIntro( e.target );\n                };\n\n                scope.transitionCompleted = function transitionCompleted( darkRoomToOutro ) {\n                    // console.log( CN + \".transitionCompleted\" );\n\n                    scope.tweenCount--;\n\n                    if( darkRoomToOutro ) {\n\n                        if( darkRoomToOutro.lightFrame.parentNode ) {\n                            darkRoomToOutro.lightFrame.parentNode.removeChild( darkRoomToOutro.lightFrame );\n                        }\n                        scope.resetDarkRoom( darkRoomToOutro );\n                    }\n\n                    if( scope.tweenCount <= 0 ) {\n                        scope.darkRooms.reverse();\n                        scope.isInTransition = false;\n                        scope.darkRooms[ 0 ].touchRect = scope.darkRooms[ 0 ].lightBox.getBoundingClientRect();\n                    }\n                };\n\n                scope.resetDarkRoom = function resetLightBox( darkRoom ) {\n                    // console.log( CN + \".resetDarkRoom\" );\n\n                    darkRoom.imageInfo = scope.defaultImageInfo;\n\n                    TweenMax.set( darkRoom.lightBox, {\n                        marginRight : \"auto\",\n                        marginLeft : \"auto\",\n                        width : \"unset\",\n                        paddingBottom : \"unset\",\n                        autoAlpha : 0\n                    } );\n\n                    TweenMax.set( darkRoom.lightFrame, {\n                        width : \"unset\"\n                    } );\n\n\n                    TweenMax.set( darkRoom.captionPane, {\n                        autoAlpha : 0\n                    } );\n                    /**/\n                };\n\n                scope.intro = function intro() {\n                    // console.log( CN + \".intro\" );\n\n                    var duration = 0.7;\n                    var darkRoomToIntro = scope.darkRooms[ 1 ];\n                    var darkRoomToOutro = scope.darkRooms[ 0 ];\n\n                    scope.tweenCount = 1;\n\n                    TweenMax.set( darkRoomToIntro.lightBox, {\n                        autoAlpha : 1\n                    } );\n\n                    var introInfo = {\n                        delay : 0.2,\n                        ease : Power2.easeOut,\n                        autoAlpha : 0,\n                        onComplete : scope.transitionCompleted\n                    };\n\n                    if( scope.transitionFrom === 'right' ) {\n                        introInfo.marginLeft = \"120%\";\n                    } else {\n                        introInfo.marginRight = \"120%\";\n                    }\n\n                    scope.introTween = TweenMax.from( darkRoomToIntro.lightBox, duration, introInfo );\n\n                    if( darkRoomToOutro.lightFrame.parentNode ) {\n                        scope.tweenCount++;\n                        var outroInfo = {\n                            delay : 0.2,\n                            ease : Power2.easeOut,\n                            autoAlpha : 0,\n                            onComplete : function outroCompleted() {\n                                scope.transitionCompleted( darkRoomToOutro );\n                            }\n                        };\n                        if( scope.transitionFrom === 'right' ) {\n                            outroInfo.marginRight = \"120%\";\n                        } else {\n                            outroInfo.marginLeft = \"120%\";\n                        }\n\n                        scope.outroTween = TweenMax.to( darkRoomToOutro.lightBox, duration, outroInfo );\n                        scope.isInTransition = true;\n                    }\n                };\n\n                scope.displayCaptionPane = function displayCaptionPane() {\n                    if( scope.darkRooms[ 0 ].imageInfo.captionHTML ) {\n                        TweenMax.to( scope.darkRooms[ 0 ].captionPane, 0.5, {\n                            autoAlpha : 1\n                        } );\n                    } else {\n                        TweenMax.set( scope.darkRooms[ 0 ].captionPane, {\n                            autoAlpha : 0\n                        } );\n                    }\n                };\n\n                scope.dismissCaptionPane = function dismissCaptionPane( isImmediate ) {\n                    if( isImmediate ) {\n                        TweenMax.set( scope.darkRooms[ 0 ].captionPane, {\n                            autoAlpha : 0\n                        } );\n                    } else {\n                        TweenMax.to( scope.darkRooms[ 0 ].captionPane, 0.5, {\n                            autoAlpha : 0\n                        } );\n                    }\n                };\n\n                scope.mouseMoved = function mouseMoved( e ) {\n                    if( scope.isInTransition ) { return; }\n\n                    var darkRoom = scope.darkRooms[ 0 ];\n                    var touchX = e.clientX;\n                    var touchY = e.clientY;\n                    if( touchY < darkRoom.touchRect.top || touchY > darkRoom.touchRect.bottom ) {\n                        darkRoom.btnPrev.blur();\n                        darkRoom.btnNext.blur();\n                        scope.dismissCaptionPane();\n                        return;\n                    }\n\n                    var prevWidth = darkRoom.touchRect.left + ( darkRoom.touchRect.width * 0.33 );\n\n                    if( touchX <= prevWidth ) {\n                        scope.mouseDirection = 'prev';\n                        darkRoom.btnPrev.focus();\n                    } else {\n                        scope.mouseDirection = 'next';\n                        darkRoom.btnNext.focus();\n                    }\n\n                    // var newFocus = touchX <= prevWidth ? darkRoom.btnPrev.focus() : darkRoom.btnNext.focus();\n                    scope.displayCaptionPane();\n                };\n\n                scope.mouseLeft = function mouseLeft( e ) {\n                    if( scope.isInTransition ) { return; }\n\n                    var darkRoom = scope.darkRooms[ 0 ];\n                    darkRoom.btnPrev.blur();\n                    darkRoom.btnNext.blur();\n                    scope.dismissCaptionPane();\n                };\n\n                scope.touchPaneClicked = function touchPaneClicked( e ) {\n                    if( scope.isInTransition ) { return; }\n\n                    var darkRoom = scope.darkRooms[ 0 ];\n                    var touchX = e.clientX;\n                    var touchY = e.clientY - darkRoom.touchRect.top;\n                    if( touchY < 0 || touchY > darkRoom.touchRect.height ) {\n                        return;\n                    }\n\n                    var prevWidth = darkRoom.touchRect.left + ( darkRoom.touchRect.width * 0.33 );\n\n                    if( touchX <= prevWidth ) {\n                        scope.prevImage();\n                    } else {\n                        scope.nextImage();\n                    }\n                };\n\n                scope.pageClicked = function pageClicked( e ) {\n                    if( scope.isInTransition ) { return; }\n\n                    var darkRoom = scope.darkRooms[ 0 ];\n                    var touchX = e.clientX;\n                    var touchY = e.clientY;\n\n                    switch( true ) {\n                        case touchX < darkRoom.touchRect.left :\n                        case touchY < darkRoom.touchRect.top :\n                        case touchX > darkRoom.touchRect.right :\n                        case touchY > darkRoom.touchRect.bottom :\n                            scope.dismiss();\n                            break;\n                    }\n                };\n\n                scope.removeDarkRoomByIndex = function removeDarkRoomByIndex( index ) {\n                    // console.log( CN + \".removeDarkRoomByIndex\" );\n\n                    if( scope.darkRooms[ index ].lightFrame.parentNode ) {\n                        scope.darkRooms[ index ].lightFrame.parentNode.removeChild( scope.darkRooms[ index ].lightFrame );\n                    }\n                };\n\n                scope.addPNGsrcFromNode = function addPNGsrcFromNode( nodeToRasterize, srcRecipient ) {\n                    // requires https://github.com/tsayen/dom-to-image\n                    if( nodeToRasterize && srcRecipient ) {\n                        domtoimage.toPng( nodeToRasterize )\n                            .then(\n                                function pngReceived( dataUrl ) {\n                                    srcRecipient.src = dataUrl;\n                                } )\n                            .catch(\n                                function pngFailed( error ) {\n                                    console.error( 'oops, something went wrong!', error );\n                                } );\n                    } else {\n                        console.error( CN + \".getPNGsrcFromSelector has a missing param...\" );\n                    }\n                };\n\n                scope.newImageInfosReceived = function newImageInfosReceived( newImageInfos ) {\n                    if( !newImageInfos || !newImageInfos.length ) {\n                        console.error( CN + \" newImageInfos missing.\" );\n                        return;\n                    }\n                    window.document.body.className += \" non-scrollable\";\n\n                    scope.reset();\n                    scope.imageInfos = newImageInfos;\n                    scope.rasterizeSignposts();\n                    scope.readyToDisplay = true;\n\n                    TweenMax.set( element[ 0 ], {\n                        autoAlpha : 0\n                    } );\n\n                    TweenMax.to( element[ 0 ], 0.5, {\n                        autoAlpha : 1,\n                        onComplete : function displayed(){\n                            // console.log( CN + \".displayed\" );\n                            scope.nextImage();\n                            scope.addEventListeners();\n                        }\n                    } );\n                };\n\n                scope.addImageData = function addImageData( imageInfo ){\n                    // clean out signpostElement\n                    scope.signpostElement.innerHTML = \"\";\n\n                    // populate signpostElement\n                    var titleElement = window.document.createElement( 'h1' );\n                    titleElement.innerHTML = imageInfo.title;\n                    scope.signpostElement.appendChild( titleElement );\n\n                    var blurbElement = window.document.createElement( 'p' );\n                    blurbElement.innerHTML = imageInfo.blurbHTML;\n                    scope.signpostElement.appendChild( blurbElement );\n\n                    // assign imgSrc for signpost\n                    // TODO : ? add in a wait here?\n                    scope.addPNGsrcFromNode( scope.signpostElement, imageInfo );\n                };\n\n                scope.rasterizeSignposts = function rasterizeSignposts(){\n                    // console.log( CN + \".rasterizeSignposts\" );\n\n                    angular.forEach( scope.imageInfos, function createSignpost( imageInfo, index ){\n                        if( imageInfo.hasOwnProperty( \"title\" ) ){\n                            window.setTimeout( function callAddImageData(){ scope.addImageData( imageInfo ); }, 1000 * index );\n                        }\n                    } );\n\n\n                };\n\n                scope.dismiss = function dismiss() {\n                    // console.log( CN + \".dismiss\" );\n\n                    TweenMax.to( element[ 0 ], 0.5, {\n                        autoAlpha : 0,\n                        onComplete : function dismissed() {\n                            scope.readyToDisplay = false;\n                            scope.resetDarkRoom( scope.darkRooms[ 0 ] );\n                            scope.resetDarkRoom( scope.darkRooms[ 1 ] );\n                            // remove the 'non-scrollable' class from the body\n                            window.document.body.className = window.document.body.className.split( \" non-scrollable\" ).join( \"\" );\n                            scope.removeEventListeners();\n                            scope.$evalAsync();\n                        }\n                    } );\n                };\n\n                scope.addEventListeners = function addEventListeners() {\n                    // console.log( CN + \".addEventListeners\" );\n\n                    angular.forEach( scope.darkRooms, function addListeners( darkRoom ) {\n                        darkRoom.touchPane.addEventListener( 'mousemove', scope.mouseMoved, false );\n                        darkRoom.touchPane.addEventListener( 'mouseleave', scope.mouseLeft, false );\n                        darkRoom.touchPane.addEventListener( 'click', scope.touchPaneClicked, false );\n                    } );\n\n                    window.document.addEventListener( 'click', scope.pageClicked, false );\n                };\n\n                scope.removeEventListeners = function removeEventListeners( isUponDestruction ) {\n                    // console.log( CN + \".removeEventListeners\" );\n\n                    // remove event listeners\n                    angular.forEach( scope.darkRooms, function addListeners( darkRoom ) {\n                        darkRoom.touchPane.removeEventListener( 'mousemove', scope.mouseMoved );\n                        darkRoom.touchPane.removeEventListener( 'mouseleave', scope.mouseLeft );\n                        darkRoom.touchPane.removeEventListener( 'click', scope.touchPaneClicked );\n                    } );\n\n                    window.document.removeEventListener( 'click', scope.pageClicked );\n                };\n\n                scope.cleanup = function cleanup() {\n                    // console.log( CN + \".cleanup\" );\n\n                    scope.removeEventListeners( true );\n\n                    // remove references\n                    scope.reset();\n                };\n\n                scope.getReferences = function getReferences() {\n                    // console.log( CN + \".getReferences\" );\n\n                    var lightFrames = element[ 0 ].querySelectorAll( '.light-frame' );\n                    scope.offstage = element[ 0 ].querySelector( '.offstage' );\n                    scope.signpostElement = element[ 0 ].querySelector( '.signpost' );\n                    scope.darkRooms = [];\n                    angular.forEach( lightFrames, function getReferences( lightFrame ) {\n                        scope.darkRooms.push( {\n                            lightFrame : lightFrame,\n                            lightBox : lightFrame.querySelector( '.light-box' ),\n                            btnNext : lightFrame.querySelector( '.btn-next' ),\n                            btnPrev : lightFrame.querySelector( '.btn-prev' ),\n                            captionPane : lightFrame.querySelector( '.caption-pane' ),\n                            image : lightFrame.querySelector( 'img' ),\n                            touchPane : lightFrame.querySelector( '.touch-pane' ),\n                            touchRect : { left : 0, right : 0, top : 0, bottom : 0, width : 0, height : 0 },\n                            imageInfo : scope.defaultImageInfo\n                        } );\n                    } );\n                };\n\n                scope.init = function init() {\n                    var errorMsg = CN + \" encountered an error while initializing.\";\n                    var bodyNode;\n\n                    // graft element into body\n                    var elementNode = element[ 0 ].parentNode.removeChild( element[ 0 ] );\n                    if( elementNode ) {\n                        bodyNode = window.document.querySelector( 'body' );\n                        if( bodyNode ) {\n                            bodyNode.appendChild( elementNode );\n                        } else {\n                            console.error( errorMsg );\n                            return;\n                        }\n                    } else {\n                        console.error( errorMsg );\n                        return;\n                    }\n\n                    scope.getReferences();\n\n                    if( scope.offstage && scope.offstage.parentNode ){\n                        scope.offstage.parentNode.removeChild( scope.offstage );\n                        bodyNode.appendChild( scope.offstage );\n                    }\n\n                    // add one-time listeners\n                    scope.signalLightboxImages = SignalTowerService.subscribeToSignal( 'signalLightboxImages', scope.newImageInfosReceived, scope );\n                    scope.$on( '$destroy', scope.cleanup );\n\n                    // remove and reset darkroom nodes\n                    scope.removeDarkRoomByIndex( 0 );\n                    scope.resetDarkRoom( scope.darkRooms[ 0 ] );\n                    scope.removeDarkRoomByIndex( 1 );\n                    scope.resetDarkRoom( scope.darkRooms[ 1 ] );\n\n                };\n\n                scope.$evalAsync( scope.init );\n            }\n        };\n    } );\n","/*\n * navBar.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.navBar\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.navBar', [\n    'spiral9.services.DataService',\n    'spiral9.services.ResponsiveService',\n    'spiral9.services.SignalTowerService'\n] )\n\n/**\n * @ngdoc directive\n * @name navBar\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'navBar', function navBarDirective( $document, $window, DataService, ResponsiveService, SignalTowerService ) {\n        var CN = 'navBarDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'navBar/navBar.tpl.html',\n            scope : {},\n            link : function navBarDirectiveLink( scope, element, attrs ) {\n                scope.navInfo = null;\n                scope.currentSelector = \"\";\n                scope.shouldMenuDisplay = false;\n                scope.handlersHandled = {};\n\n                scope.toggleNavMenu = function toggleNavMenu( e ){\n                    scope.shouldMenuDisplay = !scope.shouldMenuDisplay;\n                    scope.$evalAsync();\n                };\n\n                scope.navItemClicked = function navItemClicked( e, selector ){\n                    if( ResponsiveService.tag() !== 'large' ){\n                        scope.shouldMenuDisplay = false;\n                        scope.$evalAsync();\n                    }\n                    scope.currentSelector = selector;\n                    scope.scrollToCurrentSelector();\n                };\n\n                scope.scrollToCurrentSelector = function scrollToCurrentSelector(){\n                    var targetElement = $document[ 0 ].querySelector( scope.currentSelector );\n                    if( targetElement ){\n                        //var currentVerticalScroll = window.pageYOffset;\n                        var currentVerticalScroll = ( window.pageYOffset !== null ) ? window.pageYOffset : ( document.documentElement.scrollTop !== null ) ? document.documentElement.scrollTop : document.body.scrollTop;\n\n                        scope.echo = currentVerticalScroll + \" \";\n                        var targetY = currentVerticalScroll + targetElement.getBoundingClientRect().top;// - 62;\n                        if( targetY < 0 ){ targetY = 0; }\n\n                        if( scope.tween ){\n                            scope.tween.kill();\n                        }\n\n                        scope.tween = TweenMax.to( window, 1, {\n                            scrollTo : { y : targetY },\n                            ease : Power2.easeOut,\n                            onComplete : function cleanTween(){\n                                scope.tween = null;\n                            }\n                        } );\n                    }\n                };\n\n                scope.breakPointChanged = function breakPointChanged( newBreakPointTag ) {\n                    if( newBreakPointTag === 'large' ){\n                        scope.shouldMenuDisplay = true;\n                    } else {\n                        scope.shouldMenuDisplay = false;\n                    }\n                    scope.$evalAsync();\n                };\n\n                scope.documentClicked = function documentClicked( e ){\n                    var doesClickPertain = element[ 0 ].contains( e.target );\n\n                    if( !doesClickPertain ){\n                        if( ResponsiveService.tag() !== 'large' ){\n                            scope.shouldMenuDisplay = false;\n                            scope.$evalAsync();\n                        }\n                    }\n                };\n\n                scope.documentScrolled = function documentScrolled(){\n                    scope.layout();\n                };\n\n                scope.getData = function getData(){\n                    DataService.getNavInfo()\n                        .then(\n                            function dataReceived( navInfo ) {\n                                scope.navInfo = navInfo;\n                                scope.currentSelector = scope.navInfo.navItems[ 0 ].selector;\n                                scope.init();\n                            },\n                            function dataFailed( error ){\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                        );\n                };\n\n                scope.getSlidePanelHeight = function getSlidePanelHeight(){\n                    var slidePanel = window.document.querySelector( '.slide-panel' );\n                    if( slidePanel ){\n                        scope.slidePanelHeight = parseInt( window.getComputedStyle( slidePanel, null )\n                            .getPropertyValue( 'height' ), 10 );\n                    } else{\n                        scope.slidePanelHeight = 0;\n                    }\n                    return scope.slidePanelHeight;\n                };\n\n                scope.getNavBarHeight = function getNavBarHeight(){\n                    scope.navBarHeight = parseInt( window.getComputedStyle( element[ 0 ], null )\n                        .getPropertyValue( 'height' ), 10 );\n                    return scope.navBarHeight;\n                };\n\n                scope.layout = function layout(){\n                    if( ResponsiveService.tag() === 'large' ){\n                        scope.getSlidePanelHeight();\n\n                        if( !scope.navBarHeight ){\n                            scope.getNavBarHeight();\n                        }\n\n                        if( $window.pageYOffset >= scope.slidePanelHeight - scope.navBarHeight ){\n                            TweenMax.set( element[ 0 ], {\n                                css : {\n                                    position : \"fixed\",\n                                    top : \"0px\"\n                                }\n                            } );\n                        } else{\n                            TweenMax.set( element[ 0 ], {\n                                css : {\n                                    position : \"absolute\",\n                                    top : scope.slidePanelHeight - scope.navBarHeight + \"px\"\n                                }\n                            } );\n                        }\n\n                    } else {\n                        TweenMax.set( element[ 0 ], {\n                            css : {\n                                position : \"fixed\",\n                                top : \"0px\"\n                            }\n                        } );\n                    }\n                };\n\n                scope.init = function init(){\n                    scope.getNavBarHeight();\n\n                    if( ResponsiveService.tag() === 'large' ){\n                        TweenMax.set( element[ 0 ], {\n                            css : {\n                                top : $window.innerHeight - scope.navBarHeight\n                            }\n                        } );\n                    }\n                    SignalTowerService.subscribeToSignal( 'signalBreakPointChanged', scope.breakPointChanged, scope );\n                    SignalTowerService.subscribeToSignal( 'slidePanelSizeChanged', scope.layout, scope );\n                    $document.bind( 'scroll', scope.documentScrolled );\n                    $document.bind( 'click', scope.documentClicked );\n                    scope.getSlidePanelHeight();\n                    scope.breakPointChanged( ResponsiveService.tag() );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","/*\n * portfolioPanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.portfolioPanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.portfolioPanel', [\n        'ngTouch',\n        'spiral9.directives.lightbox',\n        'spiral9.filters.makeSafeHTML',\n        'spiral9.services.DataService',\n        'spiral9.services.SignalTowerService'\n    ] )\n\n    /**\n     * @ngdoc directive\n     * @name portfolioPanel\n     * @restrict E\n     * @element ANY\n     * @description An empty directive description. Please fill in a high level description of this directive.\n     */\n    .directive( 'portfolioPanel', function portfolioPanelDirective( DataService, SignalTowerService ) {\n        var CN = 'portfolioPanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'portfolioPanel/portfolioPanel.tpl.html',\n            scope : {},\n            link : function portfolioPanelDirectiveLink( scope, element, attrs ) {\n                scope.portfolioInfo = null;\n                scope.currentFilterTag = {\n                    \"icon\" : \"\",\n                    \"tag\" : \"all\"\n                };\n\n                scope.outro = function outro() {\n                    if( scope.projectsToOutro.length ) {\n                        angular.forEach( scope.projectsToOutro, function outroProject( projectObject, projectIndex ){\n                            TweenMax.to( projectObject.element, 0.3, {\n                                force3D : true,\n                                ease : Power3.easeOut,\n                                autoAlpha : 0.2,\n                                scaleX : 0.8,\n                                scaleY : 0.8,\n                                onComplete : function outroComplete(){\n                                    projectObject.project.visible = false;\n                                    projectObject.element.style.pointerEvents = 'none';\n                                    if( projectIndex === scope.projectsToOutro.length - 1 ){\n                                        scope.projectsToOutro = [];\n                                    }\n                                }\n                            } );\n                        } );\n                    }\n                };\n\n                scope.intro = function intro() {\n                    if( scope.projectsToIntro.length ) {\n                        angular.forEach( scope.projectsToIntro, function introProject( projectObject, projectIndex ){\n                            TweenMax.to( projectObject.element, 0.3, {\n                                force3D : true,\n                                ease: Power3.easeOut,\n                                autoAlpha : 1,\n                                scaleX : 1,\n                                scaleY : 1,\n                                onComplete : function(){\n                                    projectObject.project.visible = true;\n                                    projectObject.element.style.pointerEvents = 'auto';\n                                    if( projectIndex === scope.projectsToIntro.length - 1 ) {\n                                        scope.projectsToIntro = [];\n                                    }\n                                }\n                            } );\n                        } );\n                    }\n                };\n\n                scope.filterByTag = function filterByTag( e, filterTag ) {\n                    scope.projectsToIntro = [];\n                    scope.projectsToOutro = [];\n                    scope.currentFilterTag = filterTag;\n\n                    if( !scope.projectTileElements ) {\n                        scope.projectTileElements = element[ 0 ].querySelectorAll( '.project-tile' );\n                    }\n\n                    angular.forEach( scope.portfolioInfo.projects, function scanProjectAndTile( project, projectIndex ) {\n                        project.visible = project.hasOwnProperty( 'visible' ) ? project.visible : true;\n\n                        switch( true ) {\n                            case ( project.tags.indexOf( scope.currentFilterTag.tag ) !== -1 && !project.visible ) :\n                                scope.projectsToIntro.push( { element : scope.projectTileElements[ projectIndex ], project : project } );\n                                break;\n                            case ( project.tags.indexOf( scope.currentFilterTag.tag ) === -1 && project.visible ) :\n                                scope.projectsToOutro.push( { element : scope.projectTileElements[ projectIndex ], project : project } );\n                                break;\n                        }\n                    } );\n\n                    scope.outro();\n                    scope.intro();\n                };\n\n                scope.projectClicked = function projectClicked( project ) {\n\n                };\n\n                scope.viewProjectImages = function viewProjectImages( project ) {\n                    SignalTowerService.dispatchSignal( 'signalLightboxImages', project.imageInfos );\n                };\n\n                scope.getData = function getData() {\n                    DataService.getDataByName( 'portfolioInfo' )\n                        .then(\n                            function dataReceived( portfolioInfo ) {\n                                scope.portfolioInfo = portfolioInfo;\n                                scope.currentFilterTag = portfolioInfo.filterTags[ 0 ];\n                            },\n                            function dataFailed( error ) {\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                        );\n                };\n\n                scope.init = function init(){\n                    scope.getData();\n                };\n\n                scope.$evalAsync( scope.init );\n            }\n        };\n    } );\n","angular.module( 'spiral9.directives.responsiDiv', [\n    'spiral9.services.ResponsiveService',\n    'spiral9.filters.makeSafeHTML'\n] )\n    .directive( 'responsiDiv', function responsiDivDirective( ResponsiveService ) {\n        var CN = \"responsiDivDirective\";\n        var defaultColor = \"#FFFFFF\";\n        return {\n            restrict : 'E',\n            replace : true,\n            scope : {\n                elementData : '='\n            },\n            templateUrl : 'responsiDiv/responsiDiv.tpl.html',\n            link : function( scope, element, attrs ) {\n                scope.colorRule = \"\";\n                scope.alignRule = \"\";\n                scope.paddingRule = \"\";\n\n                scope.getAlignRule = function getAlignRule() {\n                    var align = \"left\";\n                    if( scope.elementData.hasOwnProperty( 'align' ) ) {\n                        switch( typeof(scope.elementData.align) ) {\n                            case 'string': // pass through\n                                align = scope.elementData.align;\n                                break;\n                            case 'object': // get the corresponding breakpoint\n                                align = scope.elementData.align[ ResponsiveService.tag() ];\n                                break;\n                        }\n\n                    }\n                    return \"text-align:\" + align + \"; \";\n                };\n\n                function getClassName() {\n                    var divClassName = scope.elementData.className ? scope.elementData.className : \"\";\n\n                    if( scope.elementData.hasOwnProperty( 'slideIndex' ) && scope.elementData.hasOwnProperty( 'elementIndex' ) ) {\n                        divClassName += \" slide-element-\" + scope.elementData.slideIndex + \"-\" + scope.elementData.elementIndex;\n                    }\n                    return divClassName;\n                }\n\n                function init() {\n\n                    if( scope.elementData.padding ) {\n                        scope.paddingRule = \"padding:\" + ResponsiveService.convertPaddingToPercents( scope.elementData.padding,\n                                scope.elementData.parentMaxWidth,\n                                scope.elementData.aspectRatio ) + \"; \";\n                    }\n\n                    if( scope.elementData.color ) {\n                        scope.colorRule = \"color:\" + scope.elementData.color + \"; \";\n                    }\n\n                    scope.divClassName = getClassName();\n\n                    scope.elementData.initialized = true;\n                    if( scope.$parent.registerElement ) {\n                        scope.$parent.registerElement( scope.elementData, element );\n                    }\n                }\n\n                scope.$evalAsync( init );\n            }\n        };\n    } );","angular.module( 'spiral9.directives.responsiveImage', [\n    'spiral9.services.ResponsiveService',\n    'spiral9.services.SignalTowerService'\n] )\n    .directive( 'responsiveImage', function responsiveImageDirective( ResponsiveService, SignalTowerService ) {\n        var CN = \"responsiveImageDirective\";\n        return {\n            restrict : 'E',\n            replace : true,\n            scope : {\n                elementData : '='\n            },\n            templateUrl : 'responsiveImage/responsiveImage.tpl.html',\n            link : function( scope, element, attrs ) {\n\n                scope.altText = \"\";\n                scope.imgWidth = \"\";\n                scope.imgClassName = \"\";\n                scope.imgSrc = \"\";\n\n                function getSrc() {\n                    return scope.elementData.urls ? scope.elementData.urls[ ResponsiveService.tag() ] : \"\";\n                }\n\n                function getAlignment() {\n                    var align = \"left\";\n                    if( scope.elementData.hasOwnProperty( 'align' ) ) {\n                        switch( typeof(scope.elementData.align) ) {\n                            case 'string': // pass through\n                                align = scope.elementData.align;\n                                break;\n                            case 'object': // get the corresponding breakpoint\n                                align = scope.elementData.align[ ResponsiveService.tag() ];\n                                break;\n                        }\n\n                    }\n                    return align;\n                }\n\n                function getWidth() {\n                    var width = \"100%\";\n                    var shouldConvert = true;\n                    if( scope.elementData.hasOwnProperty( 'convert' ) ) {\n                        // opted in to convert to percentage\n                        if( !scope.elementData.convert.width ) {\n                            shouldConvert = false;\n                            width = scope.elementData.width;\n                        }\n                    }\n\n                    if( shouldConvert ) {\n                        if( typeof(scope.elementData.width === \"string\") ) {\n                            // NOTE : assumption that width was described in pixels\n                            scope.elementData.width = parseInt( scope.elementData.width, 10 );\n                        }\n                        width = ResponsiveService.convertWidthToPercent( scope.elementData.width, scope.elementData.parentMaxWidth );\n                    }\n\n                    return width;\n                }\n\n                function getPadding() {\n                    var padding = \"0px\";\n                    if( scope.elementData.hasOwnProperty( 'convert' ) ) {\n                        // opted in to convert to percentage\n                        if( scope.elementData.convert.padding ) {\n                            padding = ResponsiveService.convertPaddingToPercents( scope.elementData.padding, scope.elementData.parentMaxWidth, scope.elementData.aspectRatio );\n                        } else {\n                            // opted out of converting to percentage - just pass through\n                            padding = scope.elementData.padding;\n                        }\n                    } else {\n                        // default when no 'convert' property : convert to percentage\n                        padding = ResponsiveService.convertPaddingToPercents( scope.elementData.padding, scope.elementData.parentMaxWidth, scope.elementData.aspectRatio );\n                    }\n                    return padding;\n                }\n\n                function getClassName() {\n                    var imageClassName = scope.elementData.className ? scope.elementData.className : \"\";\n\n                    if( scope.elementData.hasOwnProperty( 'slideIndex' ) && scope.elementData.hasOwnProperty( 'elementIndex' ) ) {\n                        imageClassName += \" slide-element-\" + scope.elementData.slideIndex + \"-\" + scope.elementData.elementIndex;\n                    }\n                    return imageClassName;\n                }\n\n                function breakPointChanged( newBreakPointTag ) {\n                    scope.$evalAsync( setDynamicProperties );\n                }\n\n                function setStaticProperties() {\n                    scope.altText = scope.elementData.altText ? scope.elementData.altText : \"\";\n                    scope.imgWidth = getWidth();\n                    scope.imgClassName = getClassName();\n                    angular.element( element ).css( {\n                        \"padding\" : getPadding()\n                    } );\n                }\n\n                function setDynamicProperties() {\n                    scope.imgSrc = getSrc();\n                    angular.element( element ).css( {\n                        \"text-align\" : getAlignment()\n                    } );\n                }\n\n                function init() {\n                    if( scope.elementData ) {\n                        // normalize data\n                        scope.elementData.urls = ResponsiveService.normalizeURLs( scope.elementData.urls );\n\n                        setStaticProperties();\n\n                        setDynamicProperties();\n\n                        // subscribe and set up unsubscribe\n                        SignalTowerService.subscribeToSignal( 'signalBreakPointChanged', breakPointChanged );\n                        scope.$on( '$destroy', function cleanup() {\n                            SignalTowerService.unSubscribeFromSignal( 'signalBreakPointChanged', breakPointChanged );\n                        } );\n\n                        // phone home\n                        scope.elementData.initialized = true;\n                        if( scope.$parent.registerElement ) {\n                            scope.$parent.registerElement( scope.elementData, element );\n                        }\n                    } else {\n                        $timeout( init, 500 );\n                    }\n                }\n\n                scope.$evalAsync( init );\n            }\n        };\n    } );","/*\n * skillTile.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.skillTile\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.skillTile', [\n    'spiral9.directives.arcIndicator',\n    'spiral9.filters.makeSafeHTML'\n] )\n\n/**\n * @ngdoc directive\n * @name skillTile\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'skillTile', function skillTileDirective( $document, $window ) {\n        var CN = 'skillTileDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'skillTile/skillTile.tpl.html',\n            scope : {\n                skillInfo : \"=\"\n            },\n            link : function skillTileDirectiveLink( scope, element, attrs ) {\n                // console.log( CN + \" instantiated.\" );\n\n                scope.init = function init(){\n                    $document.bind( 'scroll', scope.documentScrolled );\n\n                };\n\n                scope.documentScrolled = function documentScrolled(){\n                    var bottom = element[ 0 ].getBoundingClientRect().bottom;\n\n                    if( $window.innerHeight >= bottom || $window.pageYOffset >= bottom  ){\n                        $document.unbind( 'scroll', scope.documentScrolled );\n                        angular.element( element[ 0 ].querySelector( '.arc-indicator' ) ).isolateScope().play();\n                    }\n                };\n\n                scope.$evalAsync( scope.init );\n            }\n        };\n    } );\n","/*\n * skillsPanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.skillsPanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.skillsPanel', [\n    'ngTouch',\n    'spiral9.services.DataService',\n    'spiral9.directives.skillTile'\n] )\n\n/**\n * @ngdoc directive\n * @name skillsPanel\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'skillsPanel', function skillsPanelDirective( $document, $window, DataService ) {\n        var CN = 'skillsPanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'skillsPanel/skillsPanel.tpl.html',\n            scope : {},\n            link : function skillsPanelDirectiveLink( scope, element, attrs ) {\n\n                scope.skillsInfo = null;\n\n                scope.getData = function getData(){\n                    DataService.getSkillsInfo()\n                        .then(\n                            function dataReceived( skillsInfo ) {\n                                scope.skillsInfo = skillsInfo;\n                            },\n                            function dataFailed( error ){\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                        );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","/*\n * slidePanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.slidePanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.slidePanel', [\n    'spiral9.services.DataService',\n    'spiral9.services.ResponsiveService',\n    'spiral9.services.SignalTowerService'\n] )\n\n/**\n * @ngdoc directive\n * @name slidePanel\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'slidePanel', function slidePanelDirective( $document, $timeout, $window, DataService, SignalTowerService ) {\n        var CN = 'slidePanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'slidePanel/slidePanel.tpl.html',\n            scope : {},\n            link : function slidePanelDirectiveLink( scope, element, attrs ) {\n                // initial values\n                scope.retryMS = 200;\n                scope.shouldPlay = true;\n                scope.slideIndex = -1;\n                scope.tween = null;\n                scope.slideShowInfo = null;\n\n                function swapSlides( nextSlide, prevSlide ) {\n                    // prepare nextSlide to fade in\n                    if( nextSlide ) {\n                        TweenMax.set( nextSlide, {\n                            zIndex : 2,\n                            autoAlpha : 0\n                        } );\n                    }\n                    // move prevSlide back in z-index\n                    if( prevSlide ) {\n                        TweenMax.set( prevSlide, {\n                            zIndex : 1\n                        } );\n                    }\n                }\n\n                scope.getSlides = function getSlides() {\n                    var oldIndex = scope.slideIndex;\n                    var nextSlide, prevSlide;\n                    scope.slideIndex++;\n\n                    // mind the bounds - carousel if we've reached the end\n                    if( scope.slideIndex >= scope.slideShowInfo.imgURLs.length ) {\n                        scope.slideIndex = 0;\n                    }\n\n                    nextSlide = element[ 0 ].querySelector( '.slide-img-' + scope.slideIndex );\n\n                    // only assign prevSlide if valid\n                    if( scope.slideIndex !== oldIndex && oldIndex !== -1 ){\n                        prevSlide = element[ 0 ].querySelector( '.slide-img-' + oldIndex );\n                    }\n\n                    return [ nextSlide, prevSlide ];\n                };\n\n                scope.displayNextSlide = function displayNextSlide(){\n                    if( !scope.checkShouldPlay() ){\n                        clearTimeout( scope.timeoutID );\n                        return;\n                    }\n\n                    var slides = scope.getSlides();\n                    scope.nextSlide = slides[ 0 ];\n                    scope.prevSlide = slides[ 1 ];\n\n                    if( !scope.nextSlide ){\n                        $timeout( scope.displayNextSlide, scope.retryMS );\n                        scope.slideIndex--;\n                        if( scope.slideIndex < -1 ){ scope.slideIndex = -1; }\n                        return;\n                    }\n\n                    swapSlides( scope.nextSlide, scope.prevSlide );\n\n                    var duration = scope.slideShowInfo.transition.duration ? scope.slideShowInfo.transition.duration : 0.5;\n\n                    scope.$evalAsync( function fadeIn(){\n                        scope.tween = TweenMax.to( scope.nextSlide, duration, {\n                            autoAlpha : 1,\n                            onComplete : function fadeInComplete() {\n                                if( scope.prevSlide ){\n                                    TweenMax.set( scope.prevSlide, { autoAlpha : 0 } );\n                                }\n                                setTimeout( scope.displayNextSlide, scope.slideShowInfo.transition.delay * 1000 );\n                            }\n                        } );\n                    } );\n                };\n\n                scope.documentScrolled = function documentScrolled(){\n                    if( scope.tween ){\n                        scope.tween.kill();\n                        if( scope.nextSlide ){\n                            TweenMax.set( scope.nextSlide, { autoAlpha : 1 } );\n                        }\n                        if( scope.prevSlide ){\n                            TweenMax.set( scope.prevSlide, { autoAlpha : 0 } );\n                        }\n                    }\n\n                    clearTimeout( scope.timeoutID );\n\n                    if( scope.checkShouldPlay() ){\n                        scope.timeoutID = setTimeout( scope.displayNextSlide, scope.slideShowInfo.transition.delay * 800 );\n                    }\n                };\n\n                scope.checkShouldPlay = function checkShouldPlay(){\n                    scope.shouldPlay = scope.slideIndex === -1 ? true : $window.pageYOffset <= 0;\n                    return( scope.shouldPlay );\n                };\n\n                scope.getData = function getData(){\n                    DataService.getSlideShowInfo()\n                        .then(\n                            function dataReceived( slideShowInfo ) {\n                                scope.slideShowInfo = slideShowInfo;\n                                scope.$evalAsync( scope.init );\n                            },\n                            function dataFailed( error ){\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                    );\n                };\n\n                scope.layout = function layout(){\n                    if( element[ 0 ] && element[ 0 ].querySelector ){\n                        TweenMax.set( element[ 0 ], {\n                            height : $window.innerHeight\n                        } );\n\n                        TweenMax.set( element[ 0 ].querySelector( '.shadow-overlay' ), {\n                            height : $window.innerHeight\n                        } );\n                    }\n\n                    SignalTowerService.dispatchSignal( 'slidePanelSizeChanged' );\n                };\n\n                scope.init = function init(){\n                    $document.bind( 'scroll', scope.documentScrolled );\n                    SignalTowerService.subscribeToSignal( 'signalWindowResized', scope.layout, scope );\n                    SignalTowerService.createSignal( 'slidePanelSizeChanged' );\n                    scope.layout();\n                    scope.$evalAsync( scope.displayNextSlide );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","\n/*\n * navBar.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.navBar\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.stopEvents',\n    [] )\n\n/**\n * @ngdoc directive\n * @name navBar\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'stopEvents', function stopEventsDirective() {\n        return {\n            restrict : 'A',\n            link : function stopEventsDirectiveLink( scope, element, attr ) {\n                var CN = \"stopEventsDirective\";\n                var eventNames = attr.stopEvents.split( ' ' );\n\n                function relayTouchEvent( e ){\n                    console.log( CN + \".relayTouchEvent\" );\n                    scope.$event = e;\n                    scope.$eval( attr.ngClick );\n                    e.stopPropagation();\n                }\n\n                function stopPropagation( e ){\n                    console.log( CN + \".stopPropagation\" );\n                    console.log( \"\\te.type :\", e.type );\n                    e.stopPropagation();\n                }\n\n                function cleanup(){\n                    angular.forEach( eventNames, function deRegisterEvent( eventName ){\n                        if( eventName === 'touchend' && attr.ngClick  ){\n                            element.off( eventName, relayTouchEvent );\n                        } else {\n                            element.off( eventName, stopPropagation );\n                        }\n                    } );\n                    relayTouchEvent = null;\n                    stopPropagation = null;\n                }\n\n                angular.forEach( eventNames, function registerEvent( eventName ){\n                    if( eventName === 'touchend' && attr.ngClick ){\n                        element.on( eventName, relayTouchEvent );\n                    } else {\n                        element.on( eventName, stopPropagation );\n                    }\n                } );\n\n                scope.$on( '$destroy', cleanup );\n            }\n        };\n    } );\n","\nangular.module( 'spiral9.directives.timeline', [\n    'angular-scroll-animate',\n    'spiral9.directives.badgeLink',\n    'spiral9.filters.makeSafeHTML',\n    'spiral9.services.ResponsiveService'\n] )\n/**\n * @ngdoc directive\n * @name timeline\n * @restrict AE\n * @description\n * Primary container for displaying a vertical set of timeline events.\n */\n    .directive( 'timeline', function timelineDirective( ResponsiveService ) {\n        var CN = \"timeline\";\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'timeline/timeline.tpl.html',\n            scope : {\n                timelineInfo : \"=\"\n            },\n            link : function timelineDirectiveLink( scope, element, attrs ){\n\n                scope.toggleDetailLevel = function toggleDetailLevel( eventIndex ){\n                    var event = scope.timelineInfo.events[ eventIndex ];\n                    var lessDetailElement = element[ 0 ].querySelectorAll( '.timeline-body' )[ eventIndex ];\n                    var moreDetailElement = element[ 0 ].querySelectorAll( '.timeline-footer' )[ eventIndex ];\n\n                    if( !event.isMoreDetails ){\n                        // grow footer\n                        TweenMax.set( moreDetailElement, {\n                            height : 'auto'\n                        } );\n                        TweenMax.from( moreDetailElement, 0.2, {\n                            height : 0\n                        } );\n                        // shrink body\n                        TweenMax.to( lessDetailElement, 0.2, {\n                            height : 0\n                        } );\n                        event.isMoreDetails = true;\n                    } else {\n                        // grow body\n                        TweenMax.set( lessDetailElement, {\n                            height : 'auto'\n                        } );\n                        TweenMax.from( lessDetailElement, 0.2, {\n                            height : 0\n                        } );\n                        // shrink footer\n                        TweenMax.to( moreDetailElement, 0.2, {\n                            height : 0\n                        } );\n                        event.isMoreDetails = false;\n                    }\n                };\n\n                scope.animateElementIn = function animateElementIn( elem ) {\n                    elem.removeClass( 'hidden' );\n                    elem.addClass( 'bounce-in' );\n                };\n\n                scope.animateElementOut = function animateElementOut( elem ) {\n                    // only hide for desktop\n                    if( ResponsiveService.tag() === 'large' ){\n                        elem.addClass( 'hidden' );\n                        elem.removeClass( 'bounce-in' );\n                    }\n                };\n            }\n        };\n    } );\n","/*\n * titlePanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.titlePanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.titlePanel', [\n    'spiral9.filters.makeSafeHTML',\n    'spiral9.services.DataService'\n] )\n\n/**\n * @ngdoc directive\n * @name titlePanel\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'titlePanel', function titlePanelDirective( $timeout, DataService ) {\n        var CN = 'titlePanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            scope : {},\n            templateUrl : 'titlePanel/titlePanel.tpl.html',\n            link : function titlePanelDirectiveLink( scope, element, attrs ) {\n                // console.log( CN + \".titlePanelDirectiveLink\" );\n                scope.titleInfo = null;\n                scope.subTitleIndex = 0;\n                scope.subTitleStage = null;\n                scope.transitionTime = 1;\n                scope.delay = 4;\n\n                scope.displayNextSubTitle = function displayNextSubTitle(){\n                    if( !scope.subTitleStage ){\n                        scope.subTitleStage = element[ 0 ].querySelector( '.sub-title' );\n                    }\n                    if( scope.subTitleStage ){\n                        TweenMax.to( scope.subTitleStage, scope.transitionTime, {\n                            autoAlpha : 0,\n                            onComplete : function fadeOutComplete() {\n                                scope.subTitleIndex++;\n                                if( scope.subTitleIndex >= scope.titleInfo.subTitles.length ){\n                                    scope.subTitleIndex = 0;\n                                }\n                                scope.$evalAsync( function upateSubTitle(){\n                                    scope.subTitle = scope.titleInfo.subTitles[ scope.subTitleIndex ];\n                                    TweenMax.to( scope.subTitleStage, scope.transitionTime, {\n                                        delay : 0.25,\n                                        autoAlpha : 1,\n                                        onComplete : function fadeInComplete() {\n                                            scope.delayThenDisplay();\n                                        }\n                                    } );\n                                } );\n                            }\n                        } );\n                    }\n                };\n\n                scope.delayThenDisplay = function delayThenDisplay(){\n                    $timeout( scope.displayNextSubTitle, scope.delay * 1000 );\n                };\n\n                scope.getData = function getData(){\n                    DataService.getTitleInfo()\n                        .then(\n                        function dataReceived( titleInfo ) {\n                            scope.titleInfo = titleInfo;\n                            scope.subTitle = scope.titleInfo.subTitles[ 0 ];\n                            scope.delayThenDisplay();\n                        },\n                        function dataFailed( error ){\n                            console.error( CN + \".dataFailed\", error );\n                        }\n                    );\n                };\n\n                function init(){\n                    scope.getData();\n                }\n\n                scope.$evalAsync( init );\n            }\n        };\n    } );\n","/*\n * workExperiencePanel.js\n *\n * Created: Friday, November 6, 2015\n * (c) Copyright 2015 Spiral9 Inc. - All Rights Reserved\n * This is unpublished proprietary source code of Spiral9 Inc.\n * The copyright notice above does not evidence any actual or intended\n * publication of such source code.\n */\n\n/**\n * @ngdoc overview\n * @name directives.workExperiencePanel\n * @description An empty module description. Please fill in a high level description of this module.\n */\nangular.module( 'spiral9.directives.workExperiencePanel', [\n    'ngTouch',\n    'spiral9.filters.makeSafeHTML',\n    'spiral9.services.DataService'\n] )\n\n/**\n * @ngdoc directive\n * @name workExperiencePanel\n * @restrict E\n * @element ANY\n * @description An empty directive description. Please fill in a high level description of this directive.\n */\n    .directive( 'workExperiencePanel', function workExperiencePanelDirective( DataService ) {\n        var CN = 'workExperiencePanelDirective';\n        return {\n            restrict : 'E',\n            replace : true,\n            templateUrl : 'workExperiencePanel/workExperiencePanel.tpl.html',\n            scope : {},\n            link : function workExperiencePanelDirectiveLink( scope, element, attrs ) {\n                // console.log( CN + \" instantiated.\" );\n\n                scope.workInfo = null;\n\n\n                scope.getData = function getData(){\n                    // console.log( CN + \".getData\" );\n                    DataService.getWorkInfo()\n                        .then(\n                            function dataReceived( workInfo ) {\n                                scope.workInfo = workInfo;\n                            },\n                            function dataFailed( error ){\n                                console.error( CN + \".dataFailed\", error );\n                            }\n                        );\n                };\n\n                scope.$evalAsync( scope.getData );\n            }\n        };\n    } );\n","angular.module( 'spiral9.filters.makeSafeHTML', [] )\n    .filter( 'makeSafeHTML', function makeSafeHTML( $sce ) {\n        return $sce.trustAsHtml;\n    } );","angular.module( 'spiral9.services.DataService', [] )\n    .service( 'DataService', function DataService( $http, $q ) {\n        var CN = \"DataService\";\n\n        // private service\n        var _dataService = {\n            isDataPending : false,\n            siteData : null,\n            deferred : $q.defer(),\n            pendingProps : [],\n            getData : function getData( propName ) {\n                switch( true ){\n                    // already have data\n                    case ( _dataService.siteData !== null ) :\n                        if( propName ){\n                            return _dataService.resolveProp( propName );\n                        } else {\n                            return _dataService.deferred.promise;\n                        }\n                        break;\n                    // data has been requested - pending\n                    case ( _dataService.isDataPending ) :\n                        if( propName ){\n                            return _dataService.deferProp( propName );\n                        } else {\n                            return _dataService.deferred.promise;\n                        }\n                        break;\n                    // need to request data\n                    case ( !_dataService.isDataPending ) :\n                        var promise = propName ? _dataService.deferProp( propName ) : _dataService.deferred.promise;\n                        $http.get( 'index.json' )\n                            .then(\n                            function dataReceived( response ) {\n                                _dataService.siteData = response.data;\n                                _dataService.processPendingProps( true );\n                                _dataService.deferred.resolve( _dataService.siteData );\n                            },\n                            function dataFailed( error ) {\n                                _dataService.processPendingProps( false, error );\n                                _dataService.deferred.reject( error );\n                            }\n                        );\n                        return promise;\n                        // break;\n                }\n            },\n            deferProp : function deferProp( propName ){\n                var deferred = $q.defer();\n                _dataService.pendingProps.push( { deferred : deferred, propName : propName } );\n                return deferred.promise;\n            },\n            resolveProp : function resolveProp( propName ){\n                var deferred = $q.defer();\n                deferred.resolve( _dataService.siteData[ propName ] );\n                return deferred.promise;\n            },\n            processPendingProps : function processPendingProps( success, error ){\n                if( success ){\n                    angular.forEach( _dataService.pendingProps, function resolvePromise( pendingProp ){\n                        pendingProp.deferred.resolve( _dataService.siteData[ pendingProp.propName ] );\n                    } );\n                } else {\n                    angular.forEach( _dataService.pendingProps, function rejectPromise( pendingProp ){\n                        pendingProp.deferred.reject( error );\n                    } );\n                }\n                _dataService.pendingProps = [];\n            },\n            skillInfos : {\n                \"null\" : {\n                    \"name\" : \"null\",\n                    \"longName\" : \"Null\",\n                    \"url\" : \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null\",\n                    \"blurb\" : \"Apparently there was no key, so upon lookup we found (you guessed it!) null.\",\n                    \"clr\" : \"#999999\"\n                },\n                \"as3\" : {\n                    \"name\" : \"as3\",\n                    \"longName\" : \"AS3\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/ActionScript\",\n                    \"blurb\" : \"ActionScript 3 is an object-oriented programming language and a dialect of ECMAScript.  ECMAScript is a trademarked scripting language specification standardized by Ecma International in the ECMA-262 specification. Well-known implementations of the language, such as JavaScript and ActionScript are widely used for client-side scripting on the Web.\",\n                    \"clr\" : \"#FE3E10\"\n                },\n                \"air\" : {\n                    \"name\" : \"air\",\n                    \"longName\" : \"Adobe AIR\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/Adobe_AIR\",\n                    \"blurb\" : \"Adobe AIR enables developers to package the same code into native apps for Windows and Mac OS desktops as well as iPhone, iPad, Kindle Fire, Nook Tablet, and other Android devices.  In the case of iOS the code is pre-compiled to allow LLVM to output native ARM assembly code to run on iOS without requiring any runtime.\",\n                    \"clr\" : \"#FE3E10\"\n                },\n                \"angular\" : {\n                    \"name\" : \"angular\",\n                    \"longName\" : \"AngularJS\",\n                    \"url\" : \"https://angularjs.org\",\n                    \"blurb\" : \"AngularJS is an open-source web application framework mainly maintained by Google and by a community of individual developers and corporations to address many of the challenges encountered in developing single-page applications in a browser.\",\n                    \"clr\" : \"#E01600\"\n                },\n                \"aws\" : {\n                    \"name\" : \"aws\",\n                    \"longName\" : \"Amazon Web Services\",\n                    \"url\" : \"https://aws.amazon.com/what-is-aws/\",\n                    \"blurb\" : \"Amazon Web Services (AWS) is a secure cloud services platform, offering compute power, database storage, content delivery and other functionality to help businesses scale and grow.\",\n                    \"clr\" : \"#F99900\"\n                },\n                \"bootstrap\" : {\n                    \"name\" : \"bootstrap\",\n                    \"longName\" : \"Bootstrap\",\n                    \"url\" : \"http://getbootstrap.com\",\n                    \"blurb\" : \"Bootstrap is a free and open-source collection of tools for creating websites and web applications. It contains HTML- and CSS-based design templates for typography, forms, buttons, navigation and other interface components, as well as optional JavaScript extensions.\",\n                    \"clr\" : \"#5A3F83\"\n                },\n                \"css3\" : {\n                    \"name\" : \"css3\",\n                    \"longName\" : \"CSS3\",\n                    \"url\" : \"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS3\",\n                    \"blurb\" : \"CSS3 is the latest evolution of the Cascading Style Sheets language.\",\n                    \"clr\" : \"#2E6DA4\"\n                },\n                \"css\" : {\n                    \"name\" : \"css\",\n                    \"longName\" : \"CSS\",\n                    \"url\" : \"https://developer.mozilla.org/en-US/docs/Web/CSS\",\n                    \"blurb\" : \"Cascading Style Sheets - all the versions before CSS3.\",\n                    \"clr\" : \"#2E6DA4\"\n                },\n                \"d3\" : {\n                    \"name\" : \"d3\",\n                    \"longName\" : \"D3.js\",\n                    \"url\" : \"http://d3js.org/\",\n                    \"blurb\" : \"D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG, and CSS.\",\n                    \"clr\" : \"#FA9D35\"\n                },\n                \"facebook\" : {\n                    \"name\" : \"facebook\",\n                    \"longName\" : \"Facebook APIs\",\n                    \"url\" : \"https://developers.facebook.com/docs/javascript/quickstart\",\n                    \"blurb\" : \"Facebook APIs for web development.\",\n                    \"clr\" : \"#415E9D\"\n                },\n                \"git\" : {\n                    \"name\" : \"git\",\n                    \"longName\" : \"Git\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/Git_(software)\",\n                    \"blurb\" : \"A distributed revision control system with an emphasis on speed, data integrity, and support for distributed, non-linear workflows.\",\n                    \"clr\" : \"#F84C16\"\n                },\n                \"gulp\" : {\n                    \"name\" : \"gulp\",\n                    \"longName\" : \"Gulp.js\",\n                    \"url\" : \"http://gulpjs.com/\",\n                    \"blurb\" : \"Gulp is a streaming javascript task runner used to enhance and automate your workflow and particularly building your project.\",\n                    \"clr\" : \"#D14542\"\n                },\n                \"html5\" : {\n                    \"name\" : \"html5\",\n                    \"longName\" : \"HTML5\",\n                    \"url\" : \"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5\",\n                    \"blurb\" : \"The fifth revision of the HTML standard since the inception of the World Wide Web. HTML5 is supposed to be what HTML should have been in the first place.\",\n                    \"clr\" : \"#F36518\"\n                },\n                \"html\" : {\n                    \"name\" : \"html\",\n                    \"longName\" : \"HTML\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/HTML\",\n                    \"blurb\" : \"HyperText Markup Language - all the versions before HTML5!\",\n                    \"clr\" : \"#F36518\"\n                },\n                \"jasmine\" : {\n                    \"name\" : \"jasmine\",\n                    \"longName\" : \"Jasmine\",\n                    \"url\" : \"http://jasmine.github.io/\",\n                    \"blurb\" : \"Jasmine is a behavior-driven development framework for testing JavaScript code.\",\n                    \"clr\" : \"#8B3F83\"\n                },\n                \"jenkins\" : {\n                    \"name\" : \"jenkins\",\n                    \"longName\" : \"Jenkins\",\n                    \"url\" : \"https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins\",\n                    \"blurb\" : \"Jenkins is an award-winning, cross-platform, continuous integration and continuous delivery application that increases productivity.\",\n                    \"clr\" : \"#D5362C\"\n                },\n                \"jquery\" : {\n                    \"name\" : \"jquery\",\n                    \"longName\" : \"jQuery\",\n                    \"url\" : \"https://jquery.com/\",\n                    \"blurb\" : \"jQuery is a fast, small, and feature-rich JavaScript library. It makes things like HTML document traversal and manipulation, event handling, animation, and Ajax much simpler.\",\n                    \"clr\" : \"#2E6DA4\"\n                },\n                \"js\" : {\n                    \"name\" : \"javascript\",\n                    \"longName\" : \"JavaScript\",\n                    \"url\" : \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/About_JavaScript\",\n                    \"blurb\" : \"JavaScript is a lightweight, interpreted, object-oriented language with first-class functions that is prototype-based, multi-paradigm scripting language that is dynamic, and supports object-oriented, imperative, and functional programming styles.\",\n                    \"clr\" : \"#323232\"\n                },\n                \"less\" : {\n                    \"name\" : \"less\",\n                    \"longName\" : \"LESS\",\n                    \"url\" : \"http://lesscss.org/\",\n                    \"blurb\" : \"Less is a CSS pre-processor, meaning that it extends the CSS language, adding features that allow variables, mixins, functions and many other techniques that allow you to make CSS that is more maintainable, themable and extendable.\",\n                    \"clr\" : \"#404245\"\n                },\n                \"linux\" : {\n                    \"name\" : \"linux\",\n                    \"longName\" : \"Linux OS\",\n                    \"url\" : \"https://www.linux.com/\",\n                    \"blurb\" : \"A Unix-like and mostly POSIX-compliant computer operating system (OS) assembled under the model of free and open-source software development and distribution.\",\n                    \"clr\" : \"#06406A\"\n                },\n                \"mac\" : {\n                    \"name\" : \"mac os\",\n                    \"longName\" : \"Mac OS X\",\n                    \"url\" : \"http://www.apple.com/osx/\",\n                    \"blurb\" : \"OS X is the operating system that makes it possible to do all the things you do on a Mac.\",\n                    \"clr\" : \"#333333\"\n                },\n                \"photoshop\" : {\n                    \"name\" : \"photoshop\",\n                    \"longName\" : \"Adobe Photoshop CC\",\n                    \"url\" : \"http://www.adobe.com/products/photoshop.html\",\n                    \"blurb\" : \"Adobe Photoshop is a raster graphics editor developed and published by Adobe Systems for Windows and Mac OS.\",\n                    \"clr\" : \"#00C7FF\"\n                },\n                \"responsive\" : {\n                    \"name\" : \"responsive\",\n                    \"longName\" : \"Responsive Web Design\",\n                    \"url\" : \"http://www.smashingmagazine.com/2011/01/guidelines-for-responsive-web-design/\",\n                    \"blurb\" : \"Responsive web design is an approach to web design aimed at designing and developing web sites and single page applications to provide an optimal viewing and interaction experience — easy reading and navigation with a minimum of resizing, panning, and scrolling—across a wide range of devices and screen sizes.\",\n                    \"clr\" : \"#5C2D91\"\n                },\n                \"rest\" : {\n                    \"name\" : \"rest\",\n                    \"longName\" : \"REST\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/Representational_state_transfer\",\n                    \"blurb\" : \"REST (REpresentational State Transfer) is an architectural style, and an approach to communications that is often used in the development of Web services.\",\n                    \"clr\" : \"#5BC0DE\"\n                },\n                \"scrum\" : {\n                    \"name\" : \"scrum\",\n                    \"longName\" : \"Scrum\",\n                    \"url\" : \"https://www.mountaingoatsoftware.com/agile/scrum\",\n                    \"blurb\" : \"Scrum is an agile way to manage a project, usually software development. Agile software development with Scrum is often perceived as a methodology; but rather than viewing Scrum as methodology, think of it as a framework for managing a process.\",\n                    \"clr\" : \"#38607C\"\n                },\n                \"symbian\" : {\n                    \"name\" : \"symbian\",\n                    \"longName\" : \"Symbian OS\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/Symbian\",\n                    \"blurb\" : \"The Symbian OS is the operating system developed and sold by Symbian Ltd. The OS was primarily used by Nokia.\",\n                    \"clr\" : \"#FDAC00\"\n                },\n                \"winjs\" : {\n                    \"name\" : \"winjs\",\n                    \"longName\" : \"WinJS\",\n                    \"url\" : \"https://dev.windows.com/en-us/develop/winjs\",\n                    \"blurb\" : \"WinJS is an open-source JavaScript library that can assist you in building HTML, CSS, and JavaScript applications for the Windows Store with a consistent look and performance across all Windows devices.\",\n                    \"clr\" : \"#442058\"\n                },\n                \"windows\" : {\n                    \"name\" : \"windows\",\n                    \"longName\" : \"Microsoft Windows\",\n                    \"url\" : \"https://www.microsoft.com/en-us/windows\",\n                    \"blurb\" : \"Windows is Microsoft's operating system.\",\n                    \"clr\" : \"#0075DA\"\n                },\n                \"wordpress\" : {\n                    \"name\" : \"wordpress\",\n                    \"longName\" : \"WordPress\",\n                    \"url\" : \"https://en.wikipedia.org/wiki/WordPress\",\n                    \"blurb\" : \"WordPress is a free and open-source content management system (CMS) based on PHP and MySQL.\",\n                    \"clr\" : \"#118BC0\"\n                },\n                \"wix\" : {\n                    \"name\" : \"wix\",\n                    \"longName\" : \"Windows Installer XML Toolset\",\n                    \"url\" : \"http://wixtoolset.org/\",\n                    \"blurb\" : \"The Windows Installer XML Toolset (WiX, pronounced \\\"wicks\\\"), is a free software toolset that builds Windows Installer packages from XML. It's a command-line environment that builds MSI and MSM packages.\",\n                    \"clr\" : \"#979797\"\n                }\n            }\n        };\n\n        // exported public service\n        var dataService = {\n            getSlideShowInfo : function getSlideShowInfo(){\n               // console.log( CN + \".getSlideShowInfo\" );\n                return _dataService.getData( 'slideShowInfo' );\n            },\n            getTitleInfo : function getTitleInfo(){\n               // console.log( CN + \".getTitleInfo\" );\n                return _dataService.getData( 'titleInfo' );\n            },\n            getNavInfo : function getNavInfo(){\n               // console.log( CN + \".getNavInfo\" );\n                return _dataService.getData( 'navInfo' );\n            },\n            getAboutInfo : function getAboutInfo(){\n               // console.log( CN + \".getAboutInfo\" );\n                return _dataService.getData( 'aboutInfo' );\n            },\n            getSkillsInfo : function getSkillsInfo(){\n               // console.log(CN + \".getSkillsInfo\" );\n                return _dataService.getData( 'skillsInfo' );\n            },\n            getWorkInfo : function getWorkInfo(){\n                return _dataService.getData( 'workInfo' );\n            },\n            getContactInfo : function getContactInfo(){\n               // console.log( CN + \".getContactInfo\" );\n                return _dataService.getData( 'contactInfo' );\n            },\n            getDataByName : function getDataByName( propertyName ){\n                return _dataService.getData( propertyName );\n            },\n            getSiteData : function getSiteData(){\n               // console.log( CN + \".getSiteData\" );\n                return _dataService.getData();\n            },\n            getSkillInfo : function getSkillInfo( key ){\n                // console.log( CN + \".getSkillInfo\" );\n                // console.log( \"\\tkey :\", key );\n                return _dataService.skillInfos[ key ];\n            }\n        };\n\n        // request data immediately ( comment this out if you want to lazy load the data )\n        _dataService.getData();\n\n        return dataService;\n    } );\n","angular.module( 'spiral9.services.ResponsiveService', [\n    'spiral9.services.SignalTowerService'\n] )\n\n    .service( 'ResponsiveService', function ResponsiveService( $rootScope, $window, SignalTowerService ) {\n        var CN = \"ResponsiveService\";\n        var TAGS = {\n            small : 'small',\n            medium : 'medium',\n            large : 'large'\n        };\n\n        function BreakPoint( tagName, minWidth, maxWidth ) {\n            return {\n                tag : tagName,\n                min : minWidth,\n                max : maxWidth\n            };\n        }\n\n        var defaults = {\n            aspectRatio : \"16:9\",\n            breakPoints : {\n                small : new BreakPoint( TAGS.small, 0, 767 ),\n                medium : new BreakPoint( TAGS.medium, 768, 1099 ),\n                large : new BreakPoint( TAGS.large, 1100, Infinity )\n            }\n        };\n\n        function noop() {}\n\n        var _responsiveService = {\n            isTouchDevice : null,\n            width : 0,\n            height : 0,\n            tag : '',\n            breakPoints : angular.copy( defaults.breakPoints ),\n            resize : {\n                id : 0,\n                ms : 25\n            },\n            windowResized : function windowResized( isInit ) {\n                var broadcastMethod = noop;\n                if( isInit || _responsiveService.width !== $window.innerWidth || _responsiveService.height !== $window.innerHeight ) {\n                    _responsiveService.width = $window.innerWidth;\n                    _responsiveService.height = $window.innerHeight;\n                    var freshTag = responsiveService.tag();\n                    if( freshTag !== _responsiveService.tag ) {\n                        _responsiveService.tag = freshTag;\n                        broadcastMethod = function dispatchSignal() {\n                            // console.log( CN + \".signalBreakPointChanged\" );\n                            // console.log( \"\\t_responsiveService.tag :\", _responsiveService.tag );\n                            SignalTowerService.dispatchSignal( 'signalBreakPointChanged', _responsiveService.tag );\n                        };\n                    }\n                    $rootScope.$evalAsync( broadcastMethod );\n                }\n                SignalTowerService.dispatchSignal( 'signalWindowResized' );\n            },\n            init : function init() {\n                angular.element( $window ).on( 'resize', function windowStartedResizing( e ) {\n                    clearTimeout( _responsiveService.resize.id );\n                    _responsiveService.resize.id = setTimeout( _responsiveService.windowResized, _responsiveService.resize.ms );\n                } );\n\n                angular.element( $window ).on( 'orientationchange', function windowOrientationChanged( e ) {\n                    _responsiveService.windowResized();\n                } );\n\n                /* // QUESTION : are the 'resize' and 'orientationchange' events enough for all environments, or do we need a timer?\n                 _responsiveService.resize.id = setInterval( _responsiveService.windowResized, _responsiveService.resize.ms );\n                 */\n                if( _responsiveService.width === 0 ) {\n                    _responsiveService.windowResized( true );\n                }\n            }\n        };\n\n        var responsiveService = {\n            TAGS : TAGS,\n            isTouchDevice : function isTouchDevice() {\n                if( _responsiveService.isTouchDevice === null ){\n                    _responsiveService.isTouchDevice = 'ontouchstart' in $window.document.documentElement;\n                }\n                return _responsiveService.isTouchDevice;\n            },\n            tag : function tag() {\n                var sizeTag;\n                var bp = _responsiveService.breakPoints;\n                var w = _responsiveService.width;\n                switch( true ) {\n                    case (w >= bp.small.min && w <= bp.small.max):\n                        sizeTag = bp.small.tag;\n                        break;\n                    case (w >= bp.medium.min && w <= bp.medium.max):\n                        sizeTag = bp.medium.tag;\n                        break;\n                    case (w >= bp.large.min && w <= bp.large.max):\n                        sizeTag = bp.large.tag;\n                        break;\n                    default:\n                        sizeTag = bp.large.tag;\n                }\n                return sizeTag;\n            },\n            width : function width() {\n                return _responsiveService.width;\n            },\n            height : function height() {\n                return _responsiveService.height;\n            },\n            breakPoints : function breakPoints() {\n                return _responsiveService.breakPoints;\n            },\n            convertWidthToPercent : function convertWidthToPercent( desktopWidth, desktopContainerWidth ) {\n                var width = \"100%\";\n                if( desktopWidth && desktopContainerWidth ) {\n                    width = ((desktopWidth / desktopContainerWidth) * 100) + \"%\";\n                }\n                return width;\n            },\n            convertPaddingToPercents : function convertPaddingToPercents( pixelPadding, desktopContainerWidth, aspectRatio ) {\n                aspectRatio = aspectRatio ? aspectRatio : defaults.aspectRatio;\n                var aspectRatioArray = aspectRatio.split( \":\" );\n                if( aspectRatioArray.length !== 2 ) {\n                    aspectRatioArray = [ \"16\", \"9\" ];\n                }\n                // convert the aspect ratio into a factor\n                aspectRatio = parseInt( aspectRatioArray[ 1 ], 10 ) / parseInt( aspectRatioArray[ 0 ], 10 );\n                var zeroPixels = \"0px\";\n                var padding = zeroPixels;\n                if( pixelPadding ) {\n                    var i, p;\n                    var paddingArray = pixelPadding.split( \" \" );\n                    // normalize the padding into four distinct values\n                    switch( paddingArray.length ) {\n                        case 1:\n                            paddingArray[ 1 ] = paddingArray[ 0 ];\n                            paddingArray[ 2 ] = paddingArray[ 0 ];\n                            paddingArray[ 3 ] = paddingArray[ 0 ];\n                            break;\n                        case 2:\n                            var paddingVertical = paddingArray[ 0 ];\n                            var paddingHorizontal = paddingArray[ 1 ];\n                            paddingArray[ 0 ] = paddingVertical;\n                            paddingArray[ 1 ] = paddingHorizontal;\n                            paddingArray[ 2 ] = paddingVertical;\n                            paddingArray[ 3 ] = paddingHorizontal;\n                            break;\n                        case 3:\n                            paddingArray[ 3 ] = paddingArray[ 1 ];\n                            break;\n                        case 4:\n                            // noop\n                            break;\n                        default:\n                            console.error( CN + \" received an invalid pixelPadding : \" + pixelPadding );\n                            return padding;\n                    }\n\n                    for( i = 0; i < 4; i++ ) {\n                        if( paddingArray[ i ].indexOf( 'px' ) !== -1 ) {\n                            p = parseInt( paddingArray[ i ], 10 );\n                            if( p === undefined || p === 0 ) {\n                                p = zeroPixels;\n                            }\n                            if( p !== zeroPixels ) {\n                                // vertical\n                                if( i % 2 === 0 ) {\n                                    /* 16x9 ratio 9/16 = 0.5625 = 56.25% */\n                                    p *= aspectRatio;\n                                }\n                                p = ((p / desktopContainerWidth) * 100) + \"%\";\n                            }\n                            paddingArray[ i ] = p;\n                        }\n                    }\n\n                    padding = paddingArray.join( \" \" );\n                }\n                return padding;\n            },\n            normalizeURLs : function normalizeURLs( rawURLs ) {\n                var URLs = null;\n                if( rawURLs && rawURLs.large ) {\n                    URLs = {\n                        large : rawURLs.large\n                    };\n                    URLs.medium = rawURLs.medium ? rawURLs.medium : URLs.large;\n                    URLs.small = rawURLs.small ? rawURLs.small : URLs.medium;\n\n                } else {\n                    console.error( CN + \".normalizeURLs - missing the *required* 'large' URL.\" );\n                }\n                return URLs;\n            }\n        };\n\n        _responsiveService.init();\n\n        SignalTowerService.createSignal( 'signalWindowResized' );\n        SignalTowerService.createSignal( 'signalBreakPointChanged' );\n\n        return responsiveService;\n    } );\n","angular.module( 'spiral9.services.SignalTowerService', [] )\n    .service( 'SignalTowerService', function SignalTowerService() {\n        var CN = \"SignalTowerService\";\n\n        var signalTowerService = {\n            signals : {},\n            createSignal : function createSignal( signalName ) {\n                var newSignal = signalTowerService.signals[ signalName ];\n                if( !newSignal ) {\n                    newSignal = new Signal();\n                    signalTowerService.signals[ signalName ] = newSignal;\n                }\n                return newSignal;\n            },\n\n            destroySignal : function destroySignal( signalName ) {\n                var signalToDestroy = signalTowerService.signals[ signalName ];\n                if( signalToDestroy ) {\n                    signalToDestroy.dispose();\n                    signalTowerService.signals[ signalName ] = null;\n                }\n            },\n\n            dispatchSignal : function dispatchSignal( signalName, payload ) {\n                var signalToDispatch = signalTowerService.signals[ signalName ];\n                if( signalToDispatch ) {\n                    signalToDispatch.dispatch( payload );\n                }\n            },\n\n            subscribeToSignal : function subscribeToSignal( signalName, listener, listenerContext, priority ) {\n                var signalSubscribedTo = signalTowerService.signals[ signalName ];\n                if( !signalSubscribedTo ) {\n                    signalSubscribedTo = signalTowerService.createSignal( signalName );\n                }\n                signalSubscribedTo.add( listener, listenerContext, priority );\n                if( listenerContext && listenerContext.$on ) {\n                    listenerContext.$on( '$destroy', function autoUnsubscribe() {\n                        if( signalSubscribedTo ) {\n                            signalSubscribedTo.remove( listener, listenerContext );\n                        }\n                    } );\n                }\n                return signalSubscribedTo;\n            },\n\n            subscribeToSignalOnce : function subscribeToSignalOnce( signalName, listener, listenerContext, priority ) {\n                var signalSubscribedTo = signalTowerService.signals[ signalName ];\n                if( !signalSubscribedTo ) {\n                    signalSubscribedTo = signalTowerService.createSignal( signalName );\n                }\n                signalSubscribedTo.addOnce( listener, listenerContext, priority );\n                if( listenerContext && listenerContext.$on ) {\n                    listenerContext.$on( '$destroy', function autoUnsubscribe() {\n                        if( signalSubscribedTo ) {\n                            signalSubscribedTo.remove( listener, listenerContext );\n                        }\n                    } );\n                }\n                return signalSubscribedTo;\n            },\n\n            unSubscribeFromSignal : function unSubscribeFromSignal( signalName, listener, context ) {\n                var signalToUnsubscribeFrom = signalTowerService.signals[ signalName ];\n                if( signalToUnsubscribeFrom ) {\n                    signalToUnsubscribeFrom.remove( listener, context );\n                }\n            }\n        };\n\n        // START : js-signals implementation\n        /*\n         * Below here is the js-signals implementation v1.0.0 (2012/11/29) from :\n         *   https://github.com/millermedeiros/js-signals/\n         *\n         * The MIT License (MIT) is granted for the code between\n         * http://opensource.org/licenses/mit-license.php\n         * // START : js-signals implementation\n         *    and\n         * // END : js-signals implementation\n         *\n         */\n\n        function SignalBinding( signal, listener, isOnce, listenerContext, priority ) {\n            this._listener = listener;\n            this._isOnce = isOnce;\n            this.context = listenerContext;\n            this._signal = signal;\n            this._priority = priority || 0;\n        }\n\n        SignalBinding.prototype = {\n            active : true,\n            params : null,\n\n            execute : function execute( paramsArr ) {\n                var handlerReturn, params;\n                if( this.active && !!this._listener ) {\n                    params = this.params ? this.params.concat( paramsArr ) : paramsArr;\n                    handlerReturn = this._listener.apply( this.context, params );\n                    if( this._isOnce ) {\n                        this.detach();\n                    }\n                }\n                return handlerReturn;\n            },\n\n            detach : function detach() {\n                return this.isBound() ? this._signal.remove( this._listener, this.context ) : null;\n            },\n\n            isBound : function isBound() {\n                return (!!this._signal && !!this._listener);\n            },\n\n            isOnce : function isOnce() {\n                return this._isOnce;\n            },\n\n            getListener : function getListener() {\n                return this._listener;\n            },\n\n            getSignal : function getSignal() {\n                return this._signal;\n            },\n\n            _destroy : function _destroy() {\n                delete this._signal;\n                delete this._listener;\n                delete this.context;\n            },\n\n            toString : function toString() {\n                return '[SignalBinding isOnce:' + this._isOnce + ', isBound:' + this.isBound() + ', active:' + this.active + ']';\n            }\n        };\n\n        function validateListener( listener, fnName ) {\n            if( typeof listener !== 'function' ) {\n                throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace( '{fn}',\n                    fnName ) );\n            }\n        }\n\n        function Signal() {\n            this._bindings = [];\n            this._prevParams = null;\n            var self = this;\n            this.dispatch = function() {\n                Signal.prototype.dispatch.apply( self, arguments );\n            };\n        }\n\n        Signal.prototype = {\n            VERSION : '1.0.0',\n            memorize : false,\n            _shouldPropagate : true,\n            active : true,\n            _registerListener : function _registerListener( listener, isOnce, listenerContext, priority ) {\n                var prevIndex = this._indexOfListener( listener, listenerContext ),\n                    binding;\n                if( prevIndex !== -1 ) {\n                    binding = this._bindings[ prevIndex ];\n                    if( binding.isOnce() !== isOnce ) {\n                        throw new Error( 'You cannot add' + (isOnce ? '' : 'Once') + '() then add' + (!isOnce ? '' : 'Once') + '() the same listener without removing the relationship first.' );\n                    }\n                } else {\n                    binding = new SignalBinding( this,\n                        listener,\n                        isOnce,\n                        listenerContext,\n                        priority );\n                    this._addBinding( binding );\n                }\n\n                if( this.memorize && this._prevParams ) {\n                    binding.execute( this._prevParams );\n                }\n                return binding;\n            },\n\n            _addBinding : function _addBinding( binding ) {\n                var n = this._bindings.length;\n                do {\n                    --n;\n                } while( this._bindings[ n ] && binding._priority <= this._bindings[ n ]._priority );\n                this._bindings.splice( n + 1, 0, binding );\n            },\n\n            _indexOfListener : function _indexOfListener( listener, context ) {\n                var n = this._bindings.length,\n                    cur;\n                while( n-- ) {\n                    cur = this._bindings[ n ];\n                    if( cur._listener === listener && cur.context === context ) {\n                        return n;\n                    }\n                }\n                return -1;\n            },\n\n            has : function has( listener, context ) {\n                return this._indexOfListener( listener, context ) !== -1;\n            },\n\n            add : function add( listener, listenerContext, priority ) {\n                validateListener( listener, 'add' );\n                return this._registerListener( listener, false, listenerContext, priority );\n            },\n\n            addOnce : function addOnce( listener, listenerContext, priority ) {\n                validateListener( listener, 'addOnce' );\n                return this._registerListener( listener, true, listenerContext, priority );\n            },\n\n            remove : function remove( listener, context ) {\n                validateListener( listener, 'remove' );\n\n                var i = this._indexOfListener( listener, context );\n                if( i !== -1 ) {\n                    this._bindings[ i ]._destroy();\n                    this._bindings.splice( i, 1 );\n                }\n                return listener;\n            },\n\n            removeAll : function removeAll() {\n                var n = this._bindings.length;\n                while( n-- ) {\n                    this._bindings[ n ]._destroy();\n                }\n                this._bindings.length = 0;\n            },\n\n            getNumListeners : function getNumListeners() {\n                return this._bindings.length;\n            },\n\n            halt : function halt() {\n                this._shouldPropagate = false;\n            },\n\n            dispatch : function dispatch( params ) {\n                if( !this.active ) {\n                    return;\n                }\n\n                var paramsArr = Array.prototype.slice.call( arguments ),\n                    n = this._bindings.length,\n                    bindings;\n\n                if( this.memorize ) {\n                    this._prevParams = paramsArr;\n                }\n                if( !n ) {\n                    return;\n                }\n\n                bindings = this._bindings.slice();\n                this._shouldPropagate = true;\n                do {\n                    n--;\n                } while( bindings[ n ] && this._shouldPropagate && bindings[ n ].execute( paramsArr ) !== false );\n            },\n\n            forget : function forget() {\n                this._prevParams = null;\n            },\n\n            dispose : function dispose() {\n                this.removeAll();\n                delete this._bindings;\n                delete this._prevParams;\n            },\n\n            toString : function toString() {\n                return '[Signal active:' + this.active + ' numListeners:' + this.getNumListeners() + ']';\n            }\n        };\n        // END : js-signals implementation\n\n        return signalTowerService;\n    } );"],"sourceRoot":"/source/"}