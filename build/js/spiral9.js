!function e(t,n,i){function a(l,s){if(!n[l]){if(!t[l]){var o="function"==typeof require&&require;if(!s&&o)return o(l,!0);if(r)return r(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){var n=t[l][1][e];return a(n?n:e)},u,u.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(e,t,n){angular.module("spiral9",["ngTouch","spiral9.directives.aboutPanel","spiral9.directives.arcIndicator","spiral9.directives.navBar","spiral9.directives.skillsPanel","spiral9.directives.slidePanel","spiral9.directives.timeline","spiral9.directives.titlePanel","spiral9.directives.workExperiencePanel","spiral9.filters.makeSafeHTML","spiral9.services.DataService","spiral9.services.ResponsiveService","spiral9.services.SignalTowerService","templates-components"]).config(function(){}).controller("spiral9controller",["$scope","DataService",function(e,t){e.DataService=t}]).run(function(){})},{}],2:[function(e,t,n){angular.module("spiral9.directives.aboutPanel",["ngTouch","spiral9.filters.makeSafeHTML","spiral9.services.DataService"]).directive("aboutPanel",["DataService",function(e){var t="aboutPanelDirective";return{restrict:"E",replace:!0,templateUrl:"aboutPanel/aboutPanel.tpl.html",scope:{},link:function(n,i,a){n.aboutInfo=null,n.buttonClicked=function(e){var t=n.aboutInfo.btnURL;t&&window.open(t,"_self")},n.getData=function(){e.getAboutInfo().then(function(e){n.aboutInfo=e},function(e){console.error(t+".dataFailed",e)})},n.$evalAsync(n.getData)}}}])},{}],3:[function(e,t,n){angular.module("spiral9.directives.arcIndicator",[]).directive("arcIndicator",["$document","$timeout","$window",function(e,t,n){return{restrict:"E",replace:!0,transclude:!0,controller:["$scope","$element","$attrs",function(e,t,n){function i(e){return e*(Math.PI/180)}function a(e){return 360*e}function r(e,t,n){return{innerRadius:(e+n)*t,outerRadius:(e+n)*t}}var l=((e.expected-e.actual)/e.expected,parseInt(window.getComputedStyle(t[0],null).getPropertyValue("width"),10)),s=parseInt(window.getComputedStyle(t[0],null).getPropertyValue("height"),10),o=t.find("circle")[0],c=o.r.baseVal.value;e.radius=c,e.canvasWidth=l,e.canvasHeight=s,e.spacing=.9,e.paused=n.hasOwnProperty("paused"),e.buildArc=function(){return d3.svg.arc().innerRadius(function(e){return e.innerRadius}).outerRadius(function(e){return e.outerRadius}).startAngle(0).endAngle(function(e){return e.endAngle})},e.findPathColor=function(){var t=100*e.actual;if(t>=100)return"percent100";for(var n=90;n>0;n-=10)if(t>n)return"percent"+n;return"percent10"},e.getArcInfo=function(e,t,n,l){var s=a(t),o=r(e,n,l);return{innerRadius:o.innerRadius,outerRadius:o.outerRadius,endAngle:i(s),startAngle:0}},e.tweenArc=function(e,t){return function(n){var i=d3.interpolate(n,e);for(var a in e)n[a]=e[a];return function(e){return t(i(e))}}},e.play=function(){e.tweenInnerArc(),e.tweenOuterArc(),e.play=function(){}}}],templateUrl:"arcIndicator/arcIndicator.tpl.html",link:function(e,t,n){e.actual_formatted=(100*e.actual).toFixed(0)},scope:{actual:"@",expected:"@"}}}]).directive("pathGroup",function(){return{requires:"^arcIndicator",link:function(e,t,n,i){t.attr("transform","translate("+e.canvasWidth/2+","+e.canvasHeight/2+")")}}}).directive("innerPath",function(){return{restrict:"A",transclude:!0,requires:"^pathGroup",link:function(e,t,n,i){e.innerArc=d3.select(t[0]);var a=e.buildArc(),r=e.getArcInfo(1.1,e.expected,e.radius,.05),l=r.endAngle;r.endAngle=0,e.tweenInnerArc=function(){e.innerArc&&e.innerArc.datum(r).attr("d",a).transition().delay(100).duration(2e3).attrTween("d",e.tweenArc({endAngle:l},a))}}}}).directive("outerPath",function(){return{restrict:"A",transclude:!0,requires:"^pathGroup",link:function(e,t,n){e.outerArc=d3.select(t[0]);var i=e.buildArc(),a=e.getArcInfo(1.2,e.actual,e.radius,.1),r=a.endAngle;a.endAngle=0,t.addClass(e.findPathColor()),e.tweenOuterArc=function(){e.outerArc&&e.outerArc.datum(a).attr("d",i).transition().delay(200).duration(2500).ease("elastic").attrTween("d",e.tweenArc({endAngle:r},i))},e.paused||e.tweenOuterArc()}}})},{}],4:[function(e,t,n){angular.module("spiral9.directives.navBar",["ngTouch","spiral9.services.DataService","spiral9.services.ResponsiveService","spiral9.services.SignalTowerService"]).directive("navBar",["$document","$window","DataService","ResponsiveService","SignalTowerService",function(e,t,n,i,a){var r="navBarDirective";return{restrict:"E",replace:!0,templateUrl:"navBar/navBar.tpl.html",scope:{},link:function(l,s,o){l.navInfo=null,l.currentSelector="",l.displayNavItems=function(e){console.log(r+".displayNavItems")},l.navItemClicked=function(e,t){console.log(r+".navItemClicked"),l.currentSelector=t,l.scrollToCurrentSelector()},l.scrollToCurrentSelector=function(){console.log(r+".scrollToCurrentSelector")},l.breakPointChanged=function(e){console.log(r+".breakPointChanged"),console.log("	newBreakPointTag :",e)},l.documentScrolled=function(){l.slidePanelHeight||l.getSlidePanelHeight(),l.navBarHeight||l.getNavBarHeight(),l.slidePanelHeight&&(t.pageYOffset>=l.slidePanelHeight-l.navBarHeight?TweenMax.set(s[0],{css:{position:"fixed",top:"0px"}}):TweenMax.set(s[0],{css:{position:"absolute",top:l.slidePanelHeight-l.navBarHeight+"px"}}))},l.getData=function(){n.getNavInfo().then(function(e){l.navInfo=e,l.currentSelector=l.navInfo.navItems[0].selector,l.init()},function(e){console.error(r+".dataFailed",e)})},l.getSlidePanelHeight=function(){var e=window.document.querySelector(".slide-panel");return e?l.slidePanelHeight=parseInt(window.getComputedStyle(e,null).getPropertyValue("height"),10):l.slidePanelHeight=0,l.slidePanelHeight},l.getNavBarHeight=function(){return l.navBarHeight=parseInt(window.getComputedStyle(s[0],null).getPropertyValue("height"),10),l.navBarHeight},l.init=function(){l.getNavBarHeight(),"large"===i.tag()&&TweenMax.set(s[0],{css:{top:t.innerHeight-l.navBarHeight}}),a.subscribeToSignal("signalBreakPointChanged",l.breakPointChanged,l),e.bind("scroll",l.documentScrolled),l.getSlidePanelHeight()},l.$evalAsync(l.getData)}}}])},{}],5:[function(e,t,n){angular.module("spiral9.directives.responsiDiv",["spiral9.services.ResponsiveService","spiral9.filters.makeSafeHTML"]).directive("responsiDiv",["ResponsiveService",function(e){return{restrict:"E",replace:!0,scope:{elementData:"="},templateUrl:"responsiDiv/responsiDiv.tpl.html",link:function(t,n,i){function a(){var e=t.elementData.className?t.elementData.className:"";return t.elementData.hasOwnProperty("slideIndex")&&t.elementData.hasOwnProperty("elementIndex")&&(e+=" slide-element-"+t.elementData.slideIndex+"-"+t.elementData.elementIndex),e}function r(){t.elementData.padding&&(t.paddingRule="padding:"+e.convertPaddingToPercents(t.elementData.padding,t.elementData.parentMaxWidth,t.elementData.aspectRatio)+"; "),t.elementData.color&&(t.colorRule="color:"+t.elementData.color+"; "),t.divClassName=a(),t.elementData.initialized=!0,t.$parent.registerElement&&t.$parent.registerElement(t.elementData,n)}t.colorRule="",t.alignRule="",t.paddingRule="",t.getAlignRule=function(){var n="left";if(t.elementData.hasOwnProperty("align"))switch(typeof t.elementData.align){case"string":n=t.elementData.align;break;case"object":n=t.elementData.align[e.tag()]}return"text-align:"+n+"; "},t.$evalAsync(r)}}}])},{}],6:[function(e,t,n){angular.module("spiral9.directives.responsiveImage",["spiral9.services.ResponsiveService","spiral9.services.SignalTowerService"]).directive("responsiveImage",["ResponsiveService","SignalTowerService",function(e,t){return{restrict:"E",replace:!0,scope:{elementData:"="},templateUrl:"responsiveImage/responsiveImage.tpl.html",link:function(n,i,a){function r(){return n.elementData.urls?n.elementData.urls[e.tag()]:""}function l(){var t="left";if(n.elementData.hasOwnProperty("align"))switch(typeof n.elementData.align){case"string":t=n.elementData.align;break;case"object":t=n.elementData.align[e.tag()]}return t}function s(){var t="100%",i=!0;return n.elementData.hasOwnProperty("convert")&&(n.elementData.convert.width||(i=!1,t=n.elementData.width)),i&&(n.elementData.width=parseInt(n.elementData.width,10),t=e.convertWidthToPercent(n.elementData.width,n.elementData.parentMaxWidth)),t}function o(){var t="0px";return t=n.elementData.hasOwnProperty("convert")?n.elementData.convert.padding?e.convertPaddingToPercents(n.elementData.padding,n.elementData.parentMaxWidth,n.elementData.aspectRatio):n.elementData.padding:e.convertPaddingToPercents(n.elementData.padding,n.elementData.parentMaxWidth,n.elementData.aspectRatio)}function c(){var e=n.elementData.className?n.elementData.className:"";return n.elementData.hasOwnProperty("slideIndex")&&n.elementData.hasOwnProperty("elementIndex")&&(e+=" slide-element-"+n.elementData.slideIndex+"-"+n.elementData.elementIndex),e}function u(e){n.$evalAsync(g)}function d(){n.altText=n.elementData.altText?n.elementData.altText:"",n.imgWidth=s(),n.imgClassName=c(),angular.element(i).css({padding:o()})}function g(){n.imgSrc=r(),angular.element(i).css({"text-align":l()})}function f(){n.elementData?(n.elementData.urls=e.normalizeURLs(n.elementData.urls),d(),g(),t.subscribeToSignal("signalBreakPointChanged",u),n.$on("$destroy",function(){t.unSubscribeFromSignal("signalBreakPointChanged",u)}),n.elementData.initialized=!0,n.$parent.registerElement&&n.$parent.registerElement(n.elementData,i)):$timeout(f,500)}n.altText="",n.imgWidth="",n.imgClassName="",n.imgSrc="",n.$evalAsync(f)}}}])},{}],7:[function(e,t,n){angular.module("spiral9.directives.skillTile",["spiral9.directives.arcIndicator","spiral9.filters.makeSafeHTML"]).directive("skillTile",["$document","$window",function(e,t){return{restrict:"E",replace:!0,templateUrl:"skillTile/skillTile.tpl.html",scope:{skillInfo:"="},link:function(n,i,a){n.init=function(){e.bind("scroll",n.documentScrolled)},n.documentScrolled=function(){var a=i[0].getBoundingClientRect().bottom;(t.innerHeight>=a||t.pageYOffset>=a)&&(e.unbind("scroll",n.documentScrolled),angular.element(i[0].querySelector(".arc-indicator")).isolateScope().play())},n.$evalAsync(n.init)}}}])},{}],8:[function(e,t,n){angular.module("spiral9.directives.skillsPanel",["ngTouch","spiral9.services.DataService","spiral9.directives.skillTile"]).directive("skillsPanel",["$document","$window","DataService","ResponsiveService","SignalTowerService",function(e,t,n,i,a){var r="skillsPanelDirective";return{restrict:"E",replace:!0,templateUrl:"skillsPanel/skillsPanel.tpl.html",scope:{},link:function(e,t,i){e.skillsInfo=null,e.getData=function(){n.getSkillsInfo().then(function(t){e.skillsInfo=t},function(e){console.error(r+".dataFailed",e)})},e.$evalAsync(e.getData)}}}])},{}],9:[function(e,t,n){angular.module("spiral9.directives.slidePanel",["spiral9.services.DataService"]).directive("slidePanel",["$document","$timeout","$window","DataService",function(e,t,n,i){var a="slidePanelDirective";return{restrict:"E",replace:!0,templateUrl:"slidePanel/slidePanel.tpl.html",scope:{},link:function(r,l,s){function o(e,t){e&&TweenMax.set(e,{zIndex:2,autoAlpha:0}),t&&TweenMax.set(t,{zIndex:1})}function c(){var e,t,n=r.slideIndex;return r.slideIndex++,r.slideIndex>=r.slideShowInfo.imgURLs.length&&(r.slideIndex=0),e=l[0].querySelector(".slide-img-"+r.slideIndex),r.slideIndex!==n&&-1!==n&&(t=l[0].querySelector(".slide-img-"+n)),[e,t]}function u(){r.tween&&(r.tween.kill(),r.nextSlide&&TweenMax.set(r.nextSlide,{autoAlpha:1}),r.prevSlide&&TweenMax.set(r.prevSlide,{autoAlpha:0})),n.pageYOffset>0?(r.shouldPlay=!1,clearTimeout(r.timeoutID)):(r.shouldPlay=!0,clearTimeout(r.timeoutID),r.timeoutID=setTimeout(r.displayNextSlide,1e3*r.slideShowInfo.transition.delay))}r.retryMS=200,r.shouldPlay=!0,r.slideIndex=-1,r.tween=null,r.baseElement=l[0],r.slideShowInfo=null,r.displayNextSlide=function(){if(r.shouldPlay){var e=c();if(r.nextSlide=e[0],r.prevSlide=e[1],!r.nextSlide)return t(r.displayNextSlide,r.retryMS),r.slideIndex--,void(r.slideIndex<-1&&(r.slideIndex=-1));o(r.nextSlide,r.prevSlide);var n=r.slideShowInfo.transition.duration?r.slideShowInfo.transition.duration:.5;r.$evalAsync(function(){r.tween=TweenMax.to(r.nextSlide,n,{autoAlpha:1,onComplete:function(){r.prevSlide&&TweenMax.set(r.prevSlide,{autoAlpha:0}),setTimeout(r.displayNextSlide,1e3*r.slideShowInfo.transition.delay)}})})}},r.getData=function(){i.getSlideShowInfo().then(function(e){r.slideShowInfo=e,r.$evalAsync(r.init)},function(e){console.error(a+".dataFailed",e)})},r.init=function(){r.baseElement&&r.baseElement.querySelector&&(e.bind("scroll",u),TweenMax.set(r.baseElement,{height:n.innerHeight}),TweenMax.set(r.baseElement.querySelector(".shadow-overlay"),{height:n.innerHeight}),r.$evalAsync(r.displayNextSlide))},r.$evalAsync(r.getData)}}}])},{}],10:[function(e,t,n){angular.module("spiral9.directives.timeline",["angular-scroll-animate","spiral9.filters.makeSafeHTML"]).directive("timeline",function(){return{restrict:"E",replace:!0,templateUrl:"timeline/timeline.tpl.html",scope:{timelineInfo:"="},link:function(e,t,n){e.addEventToTimeline=function(t){t=t?t:{badgeClass:"danger",badgeIconClass:"glyphicon-exclamation-sign",title:"New Event",when:"just a moment ago",contentHtml:"<p>Hmmm, addEventToTimeline was called with no eventInfo!<br/>So you have gotten this default event.</p>"},e.timelineInfo.events.push(t)},e.animateElementIn=function(e){e.removeClass("hidden"),e.addClass("bounce-in")},e.animateElementOut=function(e){e.addClass("hidden"),e.removeClass("bounce-in")}}}})},{}],11:[function(e,t,n){angular.module("spiral9.directives.titlePanel",["spiral9.services.DataService"]).directive("titlePanel",["$timeout","DataService",function(e,t){var n="titlePanelDirective";return{restrict:"E",replace:!0,scope:{},templateUrl:"titlePanel/titlePanel.tpl.html",link:function(i,a,r){function l(){i.getData()}i.titleInfo=null,i.subTitleIndex=0,i.subTitleStage=null,i.transitionTime=1,i.delay=4,i.displayNextSubTitle=function(){i.subTitleStage||(i.subTitleStage=a[0].querySelector(".sub-title")),i.subTitleStage&&TweenMax.to(i.subTitleStage,i.transitionTime,{autoAlpha:0,onComplete:function(){i.subTitleIndex++,i.subTitleIndex>=i.titleInfo.subTitles.length&&(i.subTitleIndex=0),i.$evalAsync(function(){i.subTitle=i.titleInfo.subTitles[i.subTitleIndex],TweenMax.to(i.subTitleStage,i.transitionTime,{delay:.25,autoAlpha:1,onComplete:function(){i.delayThenDisplay()}})})}})},i.delayThenDisplay=function(){e(i.displayNextSubTitle,1e3*i.delay)},i.getData=function(){t.getTitleInfo().then(function(e){i.titleInfo=e,i.subTitle=i.titleInfo.subTitles[0],i.delayThenDisplay()},function(e){console.error(n+".dataFailed",e)})},i.$evalAsync(l)}}}])},{}],12:[function(e,t,n){angular.module("spiral9.directives.workExperiencePanel",["ngTouch","spiral9.filters.makeSafeHTML","spiral9.services.DataService"]).directive("workExperiencePanel",["DataService",function(e){var t="workExperiencePanelDirective";return{restrict:"E",replace:!0,templateUrl:"workExperiencePanel/workExperiencePanel.tpl.html",scope:{},link:function(n,i,a){n.workInfo=null,n.getData=function(){e.getWorkInfo().then(function(e){n.workInfo=e},function(e){console.error(t+".dataFailed",e)})},n.$evalAsync(n.getData)}}}])},{}],13:[function(e,t,n){angular.module("spiral9.filters.makeSafeHTML",[]).filter("makeSafeHTML",["$sce",function(e){return e.trustAsHtml}])},{}],14:[function(e,t,n){angular.module("spiral9.services.DataService",[]).service("DataService",["$http","$q",function(e,t){var n={isDataPending:!1,siteData:null,deferred:t.defer(),pendingProps:[],getData:function(t){switch(!0){case null!==n.siteData:return t?n.resolveProp(t):n.deferred.promise;case n.isDataPending:return t?n.deferProp(t):n.deferred.promise;case!n.isDataPending:var i=t?n.deferProp(t):n.deferred.promise;return e.get("index.json").then(function(e){n.siteData=e.data,n.processPendingProps(!0),n.deferred.resolve(n.siteData)},function(e){n.processPendingProps(!1,e),n.deferred.reject(e)}),i}},deferProp:function(e){var i=t.defer();return n.pendingProps.push({deferred:i,propName:e}),i.promise},resolveProp:function(e){var i=t.defer();return i.resolve(n.siteData[e]),i.promise},processPendingProps:function(e,t){e?angular.forEach(n.pendingProps,function(e){e.deferred.resolve(n.siteData[e.propName])}):angular.forEach(n.pendingProps,function(e){e.deferred.reject(t)}),n.pendingProps=[]}},i={getSlideShowInfo:function(){return n.getData("slideShowInfo")},getTitleInfo:function(){return n.getData("titleInfo")},getNavInfo:function(){return n.getData("navInfo")},getAboutInfo:function(){return n.getData("aboutInfo")},getSkillsInfo:function(){return n.getData("skillsInfo")},getWorkInfo:function(){return n.getData("workInfo")},getContactInfo:function(){return n.getData("contactInfo")},getDataByName:function(e){return n.getData(e)},getSiteData:function(){return n.getData()}};return n.getData(),i}])},{}],15:[function(e,t,n){angular.module("spiral9.services.ResponsiveService",["spiral9.services.SignalTowerService"]).service("ResponsiveService",["$rootScope","$window","SignalTowerService",function(e,t,n){function i(e,t,n){return{tag:e,min:t,max:n}}function a(){}var r="ResponsiveService",l={small:"small",medium:"medium",large:"large"},s={aspectRatio:"16:9",breakPoints:{small:new i(l.small,0,767),medium:new i(l.medium,768,1099),large:new i(l.large,1100,1/0)}},o={width:0,height:0,tag:"",breakPoints:angular.copy(s.breakPoints),resize:{id:0,ms:25},windowResized:function(i){var r=a;if(i||o.width!==t.innerWidth||o.height!==t.innerHeight){o.width=t.innerWidth,o.height=t.innerHeight;var l=c.tag();l!==o.tag&&(o.tag=l,r=function(){n.dispatchSignal("signalBreakPointChanged",o.tag)}),e.$evalAsync(r)}},init:function(){angular.element(t).on("resize",function(e){clearTimeout(o.resize.id),o.resize.id=setTimeout(o.windowResized,o.resize.ms)}),angular.element(t).on("orientationchange",function(e){o.windowResized()}),0===o.width&&o.windowResized(!0)}},c={TAGS:l,tag:function(){var e,t=o.breakPoints,n=o.width;switch(!0){case n>=t.small.min&&n<=t.small.max:e=t.small.tag;break;case n>=t.medium.min&&n<=t.medium.max:e=t.medium.tag;break;case n>=t.large.min&&n<=t.large.max:e=t.large.tag;break;default:e=t.large.tag}return e},width:function(){return o.width},height:function(){return o.height},breakPoints:function(){return o.breakPoints},convertWidthToPercent:function(e,t){var n="100%";return e&&t&&(n=e/t*100+"%"),n},convertPaddingToPercents:function(e,t,n){n=n?n:s.aspectRatio;var i=n.split(":");2!==i.length&&(i=["16","9"]),n=parseInt(i[1],10)/parseInt(i[0],10);var a="0px",l=a;if(e){var o,c,u=e.split(" ");switch(u.length){case 1:u[1]=u[0],u[2]=u[0],u[3]=u[0];break;case 2:var d=u[0],g=u[1];u[0]=d,u[1]=g,u[2]=d,u[3]=g;break;case 3:u[3]=u[1];break;case 4:break;default:return console.error(r+" received an invalid pixelPadding : "+e),l}for(o=0;4>o;o++)-1!==u[o].indexOf("px")&&(c=parseInt(u[o],10),(void 0===c||0===c)&&(c=a),c!==a&&(o%2===0&&(c*=n),c=c/t*100+"%"),u[o]=c);l=u.join(" ")}return l},normalizeURLs:function(e){var t=null;return e&&e.large?(t={large:e.large},t.medium=e.medium?e.medium:t.large,t.small=e.small?e.small:t.medium):console.error(r+".normalizeURLs - missing the *required* 'large' URL."),t}};return o.init(),n.createSignal("signalBreakPointChanged"),c}])},{}],16:[function(e,t,n){angular.module("spiral9.services.SignalTowerService",[]).service("SignalTowerService",function(){function e(e,t,n,i,a){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=a||0}function t(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function n(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){n.prototype.dispatch.apply(e,arguments)}}var i={signals:{},createSignal:function(e){var t=i.signals[e];return t||(t=new n,i.signals[e]=t),t},destroySignal:function(e){var t=i.signals[e];t&&(t.dispose(),i.signals[e]=null)},dispatchSignal:function(e,t){var n=i.signals[e];n&&n.dispatch(t)},subscribeToSignal:function(e,t,n,a){var r=i.signals[e];return r||(r=i.createSignal(e)),r.add(t,n,a),n&&n.$on&&n.$on("$destroy",function(){r&&r.remove(t,n)}),r},subscribeToSignalOnce:function(e,t,n,a){var r=i.signals[e];return r||(r=i.createSignal(e)),r.addOnce(t,n,a),n&&n.$on&&n.$on("$destroy",function(){r&&r.remove(t,n)}),r},unSubscribeFromSignal:function(e,t,n){var a=i.signals[e];a&&a.remove(t,n)}};return e.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},n.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,n,i,a){var r,l=this._indexOfListener(t,i);if(-1!==l){if(r=this._bindings[l],r.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else r=new e(this,t,n,i,a),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,n,i){return t(e,"add"),this._registerListener(e,!1,n,i)},addOnce:function(e,n,i){return t(e,"addOnce"),this._registerListener(e,!0,n,i)},remove:function(e,n){t(e,"remove");var i=this._indexOfListener(e,n);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){t=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(t[i]&&this._shouldPropagate&&t[i].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},i})},{}]},{},[1,2,3,4,5,6,8,7,9,10,11,12,13,14,15,16]);
//# sourceMappingURL=spiral9.js.map
